/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ue=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/path","vs/base/common/errors","vs/base/common/buffer","vs/base/common/network","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/base/common/map","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/extensions","vs/platform/contextkey/common/contextkey","vs/workbench/services/notebook/common/notebookDocumentService","vs/workbench/contrib/notebook/common/notebookCommon","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],ce=function(he){for(var e=[],W=0,F=he.length;W<F;W++)e[W]=ue[he[W]];return e};define(ue[14],ce([0,1,5,8]),function(he,e,W,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fe=D,e.$ge=I,e.$he=B,e.$ie=U,e.$je=m,e.$ke=b,e.$le=V,e.$me=g,e.$ne=j,e.$oe=c,e.$pe=o,e.$qe=r,e.$re=u,e.$se=t,e.$te=s;function D(n){const l=n;return l?typeof l.read=="function":!1}function I(n){const l=n;return l?[l.on,l.pause,l.resume,l.destroy].every(h=>typeof h=="function"):!1}function B(n){const l=n;return l?I(l.stream)&&Array.isArray(l.buffer)&&typeof l.ended=="boolean":!1}function U(n,l){return new L(n,l)}class L{constructor(l,h){this.e=l,this.f=h,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(l){if(!this.a.destroyed){if(this.a.flowing)this.g(l);else if(this.b.data.push(l),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(h=>this.d.push(h))}}error(l){this.a.destroyed||(this.a.flowing?this.h(l):this.b.error.push(l))}end(l){this.a.destroyed||(typeof l<"u"&&this.write(l),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(l){this.c.data.slice(0).forEach(h=>h(l))}h(l){this.c.error.length===0?(0,W.$1)(l):this.c.error.slice(0).forEach(h=>h(l))}i(){this.c.end.slice(0).forEach(l=>l())}on(l,h){if(!this.a.destroyed)switch(l){case"data":this.c.data.push(h),this.resume();break;case"end":this.c.end.push(h),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(h),this.a.flowing&&this.k();break}}removeListener(l,h){if(this.a.destroyed)return;let $;switch(l){case"data":$=this.c.data;break;case"end":$=this.c.end;break;case"error":$=this.c.error;break}if($){const v=$.indexOf(h);v>=0&&$.splice(v,1)}}j(){if(this.b.data.length>0){const l=this.e(this.b.data);this.g(l),this.b.data.length=0;const h=[...this.d];this.d.length=0,h.forEach($=>$())}}k(){if(this.c.error.length>0){for(const l of this.b.error)this.h(l);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function m(n,l){const h=[];let $;for(;($=n.read())!==null;)h.push($);return l(h)}function b(n,l,h){const $=[];let v;for(;(v=n.read())!==null&&$.length<h;)$.push(v);return v===null&&$.length>0?l($):{read:()=>{if($.length>0)return $.shift();if(typeof v<"u"){const E=v;return v=void 0,E}return n.read()}}}function V(n,l){return new Promise((h,$)=>{const v=[];g(n,{onData:E=>{l&&v.push(E)},onError:E=>{l?$(E):h(void 0)},onEnd:()=>{h(l?l(v):void 0)}})})}function g(n,l,h){n.on("error",$=>{h?.isCancellationRequested||l.onError($)}),n.on("end",()=>{h?.isCancellationRequested||l.onEnd()}),n.on("data",$=>{h?.isCancellationRequested||l.onData($)})}function j(n,l){return new Promise((h,$)=>{const v=new F.$Tc,E=[],P=q=>{if(E.push(q),E.length>l)return v.dispose(),n.pause(),h({stream:n,buffer:E,ended:!1})},a=q=>(v.dispose(),$(q)),C=()=>(v.dispose(),h({stream:n,buffer:E,ended:!0}));v.add((0,F.$Sc)(()=>n.removeListener("error",a))),n.on("error",a),v.add((0,F.$Sc)(()=>n.removeListener("end",C))),n.on("end",C),v.add((0,F.$Sc)(()=>n.removeListener("data",P))),n.on("data",P)})}function c(n,l){const h=U(l);return h.end(n),h}function o(){const n=U(()=>{throw new Error("not supported")});return n.end(),n}function r(n){let l=!1;return{read:()=>l?null:(l=!0,n)}}function u(n,l,h){const $=U(h);return g(n,{onData:v=>$.write(l.data(v)),onError:v=>$.error(l.error?l.error(v):v),onEnd:()=>$.end()}),$}function t(n,l,h){let $=!1;return{read:()=>{const v=l.read();return $?v:($=!0,v!==null?h([n,v]):n)}}}function s(n,l,h){let $=!1;const v=U(h);return g(l,{onData:E=>$?v.write(E):($=!0,v.write(h([n,E]))),onError:E=>v.error(E),onEnd:()=>{$||($=!0,v.write(n)),v.end()}}),v}}),define(ue[6],ce([0,1,15,14]),function(he,e,W,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ue=void 0,e.$ve=m,e.$we=b,e.$xe=V,e.$ye=g,e.$ze=j,e.$Ae=c,e.$Be=o,e.$Ce=r,e.$De=u,e.$Ee=t,e.$Fe=s,e.$Ge=n,e.$He=l,e.$Ie=h,e.$Je=$,e.$Ke=v,e.$Le=E,e.$Me=P,e.$Ne=a,e.$Oe=G;const D=typeof Buffer<"u",I=new W.$V(()=>new Uint8Array(256));let B,U;class L{static alloc(p){return D?new L(Buffer.allocUnsafe(p)):new L(new Uint8Array(p))}static wrap(p){return D&&!Buffer.isBuffer(p)&&(p=Buffer.from(p.buffer,p.byteOffset,p.byteLength)),new L(p)}static fromString(p,T){return!(T?.dontUseNodeBuffer||!1)&&D?new L(Buffer.from(p)):(B||(B=new TextEncoder),new L(B.encode(p)))}static fromByteArray(p){const T=L.alloc(p.length);for(let _=0,ie=p.length;_<ie;_++)T.buffer[_]=p[_];return T}static concat(p,T){if(typeof T>"u"){T=0;for(let le=0,re=p.length;le<re;le++)T+=p[le].byteLength}const _=L.alloc(T);let ie=0;for(let le=0,re=p.length;le<re;le++){const ne=p[le];_.set(ne,ie),ie+=ne.byteLength}return _}constructor(p){this.buffer=p,this.byteLength=this.buffer.byteLength}clone(){const p=L.alloc(this.byteLength);return p.set(this),p}toString(){return D?this.buffer.toString():(U||(U=new TextDecoder),U.decode(this.buffer))}slice(p,T){return new L(this.buffer.subarray(p,T))}set(p,T){if(p instanceof L)this.buffer.set(p.buffer,T);else if(p instanceof Uint8Array)this.buffer.set(p,T);else if(p instanceof ArrayBuffer)this.buffer.set(new Uint8Array(p),T);else if(ArrayBuffer.isView(p))this.buffer.set(new Uint8Array(p.buffer,p.byteOffset,p.byteLength),T);else throw new Error("Unknown argument 'array'")}readUInt32BE(p){return g(this.buffer,p)}writeUInt32BE(p,T){j(this.buffer,p,T)}readUInt32LE(p){return c(this.buffer,p)}writeUInt32LE(p,T){o(this.buffer,p,T)}readUInt8(p){return r(this.buffer,p)}writeUInt8(p,T){u(this.buffer,p,T)}indexOf(p,T=0){return m(this.buffer,p instanceof L?p.buffer:p,T)}}e.$ue=L;function m(A,p,T=0){const _=p.byteLength,ie=A.byteLength;if(_===0)return 0;if(_===1)return A.indexOf(p[0]);if(_>ie-T)return-1;const le=I.value;le.fill(p.length);for(let w=0;w<p.length;w++)le[p[w]]=p.length-w-1;let re=T+p.length-1,ne=re,oe=-1;for(;re<ie;)if(A[re]===p[ne]){if(ne===0){oe=re;break}re--,ne--}else re+=Math.max(p.length-ne,le[A[re]]),ne=p.length-1;return oe}function b(A,p){return A[p+0]<<0>>>0|A[p+1]<<8>>>0}function V(A,p,T){A[T+0]=p&255,p=p>>>8,A[T+1]=p&255}function g(A,p){return A[p]*2**24+A[p+1]*2**16+A[p+2]*2**8+A[p+3]}function j(A,p,T){A[T+3]=p,p=p>>>8,A[T+2]=p,p=p>>>8,A[T+1]=p,p=p>>>8,A[T]=p}function c(A,p){return A[p+0]<<0>>>0|A[p+1]<<8>>>0|A[p+2]<<16>>>0|A[p+3]<<24>>>0}function o(A,p,T){A[T+0]=p&255,p=p>>>8,A[T+1]=p&255,p=p>>>8,A[T+2]=p&255,p=p>>>8,A[T+3]=p&255}function r(A,p){return A[p]}function u(A,p,T){A[T]=p}function t(A){return F.$je(A,p=>L.concat(p))}function s(A){return F.$qe(A)}function n(A){return F.$le(A,p=>L.concat(p))}async function l(A){return A.ended?L.concat(A.buffer):L.concat([...A.buffer,await n(A.stream)])}function h(A){return F.$oe(A,p=>L.concat(p))}function $(A){return F.$re(A,{data:p=>typeof p=="string"?L.fromString(p):L.wrap(p)},p=>L.concat(p))}function v(A){return F.$ie(p=>L.concat(p),A)}function E(A,p){return F.$se(A,p,T=>L.concat(T))}function P(A,p){return F.$te(A,p,T=>L.concat(T))}function a(A){let p=0,T=0,_=0;const ie=new Uint8Array(Math.floor(A.length/4*3)),le=ne=>{switch(T){case 3:ie[_++]=p|ne,T=0;break;case 2:ie[_++]=p|ne>>>2,p=ne<<6,T=3;break;case 1:ie[_++]=p|ne>>>4,p=ne<<4,T=2;break;default:p=ne<<2,T=1}};for(let ne=0;ne<A.length;ne++){const oe=A.charCodeAt(ne);if(oe>=65&&oe<=90)le(oe-65);else if(oe>=97&&oe<=122)le(oe-97+26);else if(oe>=48&&oe<=57)le(oe-48+52);else if(oe===43||oe===45)le(62);else if(oe===47||oe===95)le(63);else{if(oe===61)break;throw new SyntaxError(`Unexpected base64 character ${A[ne]}`)}}const re=_;for(;T>0;)le(0);return L.wrap(ie).slice(0,re)}const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function G({buffer:A},p=!0,T=!1){const _=T?q:C;let ie="";const le=A.byteLength%3;let re=0;for(;re<A.byteLength-le;re+=3){const ne=A[re+0],oe=A[re+1],w=A[re+2];ie+=_[ne>>>2],ie+=_[(ne<<4|oe>>>4)&63],ie+=_[(oe<<2|w>>>6)&63],ie+=_[w&63]}if(le===1){const ne=A[re+0];ie+=_[ne>>>2],ie+=_[ne<<4&63],p&&(ie+="==")}else if(le===2){const ne=A[re+0],oe=A[re+1];ie+=_[ne>>>2],ie+=_[(ne<<4|oe>>>4)&63],ie+=_[oe<<2&63],p&&(ie+="=")}return ie}}),define(ue[16],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4d=void 0,e.$4d=Symbol("MicrotaskDelay")}),define(ue[17],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$Ot=F;var W;(function(D){D[D.Unknown=0]="Unknown",D[D.Invalid=3]="Invalid",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(W||(e.StringEOL=W={}));function F(D){let I=0,B=0,U=0,L=0;for(let m=0,b=D.length;m<b;m++){const V=D.charCodeAt(m);V===13?(I===0&&(B=m),I++,m+1<b&&D.charCodeAt(m+1)===10?(L|=2,m++):L|=3,U=m+1):V===10&&(L|=1,I===0&&(B=m),I++,U=m+1)}return I===0&&(B=D.length),[I,B,D.length-U,L]}}),define(ue[18],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jC=e.NodeColor=e.$iC=void 0,e.$kC=D,e.$lC=I,e.$mC=m,e.$nC=b,e.$oC=V,e.$pC=g,e.$qC=j,e.$rC=c;class W{constructor(r,u){this.piece=r,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$jC)return D(this.right);let r=this;for(;r.parent!==e.$jC&&r.parent.left!==r;)r=r.parent;return r.parent===e.$jC?e.$jC:r.parent}prev(){if(this.left!==e.$jC)return I(this.left);let r=this;for(;r.parent!==e.$jC&&r.parent.right!==r;)r=r.parent;return r.parent===e.$jC?e.$jC:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$iC=W;var F;(function(o){o[o.Black=0]="Black",o[o.Red=1]="Red"})(F||(e.NodeColor=F={})),e.$jC=new W(null,0),e.$jC.parent=e.$jC,e.$jC.left=e.$jC,e.$jC.right=e.$jC,e.$jC.color=0;function D(o){for(;o.left!==e.$jC;)o=o.left;return o}function I(o){for(;o.right!==e.$jC;)o=o.right;return o}function B(o){return o===e.$jC?0:o.size_left+o.piece.length+B(o.right)}function U(o){return o===e.$jC?0:o.lf_left+o.piece.lineFeedCnt+U(o.right)}function L(){e.$jC.parent=e.$jC}function m(o,r){const u=r.right;u.size_left+=r.size_left+(r.piece?r.piece.length:0),u.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=u.left,u.left!==e.$jC&&(u.left.parent=r),u.parent=r.parent,r.parent===e.$jC?o.root=u:r.parent.left===r?r.parent.left=u:r.parent.right=u,u.left=r,r.parent=u}function b(o,r){const u=r.left;r.left=u.right,u.right!==e.$jC&&(u.right.parent=r),u.parent=r.parent,r.size_left-=u.size_left+(u.piece?u.piece.length:0),r.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),r.parent===e.$jC?o.root=u:r===r.parent.right?r.parent.right=u:r.parent.left=u,u.right=r,r.parent=u}function V(o,r){let u,t;if(r.left===e.$jC?(t=r,u=t.right):r.right===e.$jC?(t=r,u=t.left):(t=D(r.right),u=t.right),t===o.root){o.root=u,u.color=0,r.detach(),L(),o.root.parent=e.$jC;return}const s=t.color===1;if(t===t.parent.left?t.parent.left=u:t.parent.right=u,t===r?(u.parent=t.parent,c(o,u)):(t.parent===r?u.parent=t:u.parent=t.parent,c(o,u),t.left=r.left,t.right=r.right,t.parent=r.parent,t.color=r.color,r===o.root?o.root=t:r===r.parent.left?r.parent.left=t:r.parent.right=t,t.left!==e.$jC&&(t.left.parent=t),t.right!==e.$jC&&(t.right.parent=t),t.size_left=r.size_left,t.lf_left=r.lf_left,c(o,t)),r.detach(),u.parent.left===u){const l=B(u),h=U(u);if(l!==u.parent.size_left||h!==u.parent.lf_left){const $=l-u.parent.size_left,v=h-u.parent.lf_left;u.parent.size_left=l,u.parent.lf_left=h,j(o,u.parent,$,v)}}if(c(o,u.parent),s){L();return}let n;for(;u!==o.root&&u.color===0;)u===u.parent.left?(n=u.parent.right,n.color===1&&(n.color=0,u.parent.color=1,m(o,u.parent),n=u.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,u=u.parent):(n.right.color===0&&(n.left.color=0,n.color=1,b(o,n),n=u.parent.right),n.color=u.parent.color,u.parent.color=0,n.right.color=0,m(o,u.parent),u=o.root)):(n=u.parent.left,n.color===1&&(n.color=0,u.parent.color=1,b(o,u.parent),n=u.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,u=u.parent):(n.left.color===0&&(n.right.color=0,n.color=1,m(o,n),n=u.parent.left),n.color=u.parent.color,u.parent.color=0,n.left.color=0,b(o,u.parent),u=o.root));u.color=0,L()}function g(o,r){for(c(o,r);r!==o.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const u=r.parent.parent.right;u.color===1?(r.parent.color=0,u.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,m(o,r)),r.parent.color=0,r.parent.parent.color=1,b(o,r.parent.parent))}else{const u=r.parent.parent.left;u.color===1?(r.parent.color=0,u.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,b(o,r)),r.parent.color=0,r.parent.parent.color=1,m(o,r.parent.parent))}o.root.color=0}function j(o,r,u,t){for(;r!==o.root&&r!==e.$jC;)r.parent.left===r&&(r.parent.size_left+=u,r.parent.lf_left+=t),r=r.parent}function c(o,r){let u=0,t=0;if(r!==o.root){for(;r!==o.root&&r===r.parent.right;)r=r.parent;if(r!==o.root)for(r=r.parent,u=B(r.left)-r.size_left,t=U(r.left)-r.lf_left,r.size_left+=u,r.lf_left+=t;r!==o.root&&(u!==0||t!==0);)r.parent.left===r&&(r.parent.size_left+=u,r.parent.lf_left+=t),r=r.parent}}}),define(ue[9],ce([0,1,41,10,19,18,20]),function(he,e,W,F,D,I,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$CC=e.$BC=e.$AC=void 0,e.$yC=b,e.$zC=V;const U=65535;function L(u){let t;return u[u.length-1]<65536?t=new Uint16Array(u.length):t=new Uint32Array(u.length),t.set(u,0),t}class m{constructor(t,s,n,l,h){this.lineStarts=t,this.cr=s,this.lf=n,this.crlf=l,this.isBasicASCII=h}}function b(u,t=!0){const s=[0];let n=1;for(let l=0,h=u.length;l<h;l++){const $=u.charCodeAt(l);$===13?l+1<h&&u.charCodeAt(l+1)===10?(s[n++]=l+2,l++):s[n++]=l+1:$===10&&(s[n++]=l+1)}return t?L(s):s}function V(u,t){u.length=0,u[0]=0;let s=1,n=0,l=0,h=0,$=!0;for(let E=0,P=t.length;E<P;E++){const a=t.charCodeAt(E);a===13?E+1<P&&t.charCodeAt(E+1)===10?(h++,u[s++]=E+2,E++):(n++,u[s++]=E+1):a===10?(l++,u[s++]=E+1):$&&a!==9&&(a<32||a>126)&&($=!1)}const v=new m(L(u),n,l,h,$);return u.length=0,v}class g{constructor(t,s,n,l,h){this.bufferIndex=t,this.start=s,this.end=n,this.lineFeedCnt=l,this.length=h}}e.$AC=g;class j{constructor(t,s){this.buffer=t,this.lineStarts=s}}e.$BC=j;class c{constructor(t,s){this.a=[],this.c=t,this.d=s,this.b=0,t.root!==I.$jC&&t.iterate(t.root,n=>(n!==I.$jC&&this.a.push(n.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class o{constructor(t){this.a=t,this.b=[]}get(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartOffset<=t&&n.nodeStartOffset+n.node.piece.length>=t)return n}return null}get2(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<t&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=t)return n}return null}set(t){this.b.length>=this.a&&this.b.shift(),this.b.push(t)}validate(t){let s=!1;const n=this.b;for(let l=0;l<n.length;l++){const h=n[l];if(h.node.parent===null||h.nodeStartOffset>=t){n[l]=null,s=!0;continue}}if(s){const l=[];for(const h of n)h!==null&&l.push(h);this.b=l}}}class r{constructor(t,s,n){this.create(t,s,n)}create(t,s,n){this.a=[new j("",[0])],this.g={line:0,column:0},this.root=I.$jC,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=n;let l=null;for(let h=0,$=t.length;h<$;h++)if(t[h].buffer.length>0){t[h].lineStarts||(t[h].lineStarts=b(t[h].buffer));const v=new g(h+1,{line:0,column:0},{line:t[h].lineStarts.length-1,column:t[h].buffer.length-t[h].lineStarts[t[h].lineStarts.length-1]},t[h].lineStarts.length-1,t[h].buffer.length);this.a.push(t[h]),l=this.S(l,v)}this.h=new o(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(t){const s=U,n=s-Math.floor(s/3),l=n*2;let h="",$=0;const v=[];if(this.iterate(this.root,E=>{const P=this.R(E),a=P.length;if($<=n||$+a<l)return h+=P,$+=a,!0;const C=h.replace(/\r\n|\r|\n/g,t);return v.push(new j(C,b(C))),h=P,$=a,!0}),$>0){const E=h.replace(/\r\n|\r|\n/g,t);v.push(new j(E,b(E)))}this.create(v,t,!0)}getEOL(){return this.d}setEOL(t){this.d=t,this.e=this.d.length,this.normalizeEOL(t)}createSnapshot(t){return new c(this,t)}equal(t){if(this.getLength()!==t.getLength()||this.getLineCount()!==t.getLineCount())return!1;let s=0;return this.iterate(this.root,l=>{if(l===I.$jC)return!0;const h=this.R(l),$=h.length,v=t.G(s),E=t.G(s+$),P=t.getValueInRange2(v,E);return s+=$,h===P})}getOffsetAt(t,s){let n=0,l=this.root;for(;l!==I.$jC;)if(l.left!==I.$jC&&l.lf_left+1>=t)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=t){n+=l.size_left;const h=this.B(l,t-l.lf_left-2);return n+=h+s-1}else t-=l.lf_left+l.piece.lineFeedCnt,n+=l.size_left+l.piece.length,l=l.right;return n}getPositionAt(t){t=Math.floor(t),t=Math.max(0,t);let s=this.root,n=0;const l=t;for(;s!==I.$jC;)if(s.size_left!==0&&s.size_left>=t)s=s.left;else if(s.size_left+s.piece.length>=t){const h=this.A(s,t-s.size_left);if(n+=s.lf_left+h.index,h.index===0){const $=this.getOffsetAt(n+1,1),v=l-$;return new W.$bt(n+1,v+1)}return new W.$bt(n+1,h.remainder+1)}else if(t-=s.size_left+s.piece.length,n+=s.lf_left+s.piece.lineFeedCnt,s.right===I.$jC){const h=this.getOffsetAt(n+1,1),$=l-t-h;return new W.$bt(n+1,$+1)}else s=s.right;return new W.$bt(1,1)}getValueInRange(t,s){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";const n=this.H(t.startLineNumber,t.startColumn),l=this.H(t.endLineNumber,t.endColumn),h=this.getValueInRange2(n,l);return s?s!==this.d||!this.f?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(t,s){if(t.node===s.node){const v=t.node,E=this.a[v.piece.bufferIndex].buffer,P=this.u(v.piece.bufferIndex,v.piece.start);return E.substring(P+t.remainder,P+s.remainder)}let n=t.node;const l=this.a[n.piece.bufferIndex].buffer,h=this.u(n.piece.bufferIndex,n.piece.start);let $=l.substring(h+t.remainder,h+n.piece.length);for(n=n.next();n!==I.$jC;){const v=this.a[n.piece.bufferIndex].buffer,E=this.u(n.piece.bufferIndex,n.piece.start);if(n===s.node){$+=v.substring(E,E+s.remainder);break}else $+=v.substr(E,n.piece.length);n=n.next()}return $}getLinesContent(){const t=[];let s=0,n="",l=!1;return this.iterate(this.root,h=>{if(h===I.$jC)return!0;const $=h.piece;let v=$.length;if(v===0)return!0;const E=this.a[$.bufferIndex].buffer,P=this.a[$.bufferIndex].lineStarts,a=$.start.line,C=$.end.line;let q=P[a]+$.start.column;if(l&&(E.charCodeAt(q)===10&&(q++,v--),t[s++]=n,n="",l=!1,v===0))return!0;if(a===C)return!this.f&&E.charCodeAt(q+v-1)===13?(l=!0,n+=E.substr(q,v-1)):n+=E.substr(q,v),!0;n+=this.f?E.substring(q,Math.max(q,P[a+1]-this.e)):E.substring(q,P[a+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;for(let G=a+1;G<C;G++)n=this.f?E.substring(P[G],P[G+1]-this.e):E.substring(P[G],P[G+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;return!this.f&&E.charCodeAt(P[C]+$.end.column-1)===13?(l=!0,$.end.column===0?s--:n=E.substr(P[C],$.end.column-1)):n=E.substr(P[C],$.end.column),!0}),l&&(t[s++]=n,n=""),t[s++]=n,t}getLength(){return this.c}getLineCount(){return this.b}getLineContent(t){return this.j.lineNumber===t?this.j.value:(this.j.lineNumber=t,t===this.b?this.j.value=this.getLineRawContent(t):this.f?this.j.value=this.getLineRawContent(t,this.e):this.j.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(t){if(t.remainder===t.node.piece.length){const s=t.node.next();if(!s)return 0;const n=this.a[s.piece.bufferIndex],l=this.u(s.piece.bufferIndex,s.piece.start);return n.buffer.charCodeAt(l)}else{const s=this.a[t.node.piece.bufferIndex],l=this.u(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return s.buffer.charCodeAt(l)}}getLineCharCode(t,s){const n=this.H(t,s+1);return this.l(n)}getLineLength(t){if(t===this.getLineCount()){const s=this.getOffsetAt(t,1);return this.getLength()-s}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this.e}getCharCode(t){const s=this.G(t);return this.l(s)}findMatchesInNode(t,s,n,l,h,$,v,E,P,a,C){const q=this.a[t.piece.bufferIndex],G=this.u(t.piece.bufferIndex,t.piece.start),A=this.u(t.piece.bufferIndex,h),p=this.u(t.piece.bufferIndex,$);let T;const _={line:0,column:0};let ie,le;s._wordSeparators?(ie=q.buffer.substring(A,p),le=re=>re+A,s.reset(0)):(ie=q.buffer,le=re=>re,s.reset(A));do if(T=s.next(ie),T){if(le(T.index)>=p)return a;this.s(t,le(T.index)-G,_);const re=this.t(t.piece.bufferIndex,h,_),ne=_.line===h.line?_.column-h.column+l:_.column+1,oe=ne+T[0].length;if(C[a++]=(0,B.$uC)(new F.$ct(n+re,ne,n+re,oe),T,E),le(T.index)+T[0].length>=p||a>=P)return a}while(T);return a}findMatchesLineByLine(t,s,n,l){const h=[];let $=0;const v=new B.$xC(s.wordSeparators,s.regex);let E=this.H(t.startLineNumber,t.startColumn);if(E===null)return[];const P=this.H(t.endLineNumber,t.endColumn);if(P===null)return[];let a=this.s(E.node,E.remainder);const C=this.s(P.node,P.remainder);if(E.node===P.node)return this.findMatchesInNode(E.node,v,t.startLineNumber,t.startColumn,a,C,s,n,l,$,h),h;let q=t.startLineNumber,G=E.node;for(;G!==P.node;){const p=this.t(G.piece.bufferIndex,a,G.piece.end);if(p>=1){const _=this.a[G.piece.bufferIndex].lineStarts,ie=this.u(G.piece.bufferIndex,G.piece.start),le=_[a.line+p],re=q===t.startLineNumber?t.startColumn:1;if($=this.findMatchesInNode(G,v,q,re,a,this.s(G,le-ie),s,n,l,$,h),$>=l)return h;q+=p}const T=q===t.startLineNumber?t.startColumn-1:0;if(q===t.endLineNumber){const _=this.getLineContent(q).substring(T,t.endColumn-1);return $=this.n(s,v,_,t.endLineNumber,T,$,h,n,l),h}if($=this.n(s,v,this.getLineContent(q).substr(T),q,T,$,h,n,l),$>=l)return h;q++,E=this.H(q,1),G=E.node,a=this.s(E.node,E.remainder)}if(q===t.endLineNumber){const p=q===t.startLineNumber?t.startColumn-1:0,T=this.getLineContent(q).substring(p,t.endColumn-1);return $=this.n(s,v,T,t.endLineNumber,p,$,h,n,l),h}const A=q===t.startLineNumber?t.startColumn:1;return $=this.findMatchesInNode(P.node,v,q,A,a,C,s,n,l,$,h),h}n(t,s,n,l,h,$,v,E,P){const a=t.wordSeparators;if(!E&&t.simpleSearch){const q=t.simpleSearch,G=q.length,A=n.length;let p=-G;for(;(p=n.indexOf(q,p+G))!==-1;)if((!a||(0,B.$wC)(a,n,A,p,G))&&(v[$++]=new D.$wv(new F.$ct(l,p+1+h,l,p+1+G+h),null),$>=P))return $;return $}let C;s.reset(0);do if(C=s.next(n),C&&(v[$++]=(0,B.$uC)(new F.$ct(l,C.index+1+h,l,C.index+1+C[0].length+h),C,E),$>=P))return $;while(C);return $}insert(t,s,n=!1){if(this.f=this.f&&n,this.j.lineNumber=0,this.j.value="",this.root!==I.$jC){const{node:l,remainder:h,nodeStartOffset:$}=this.G(t),v=l.piece,E=v.bufferIndex,P=this.s(l,h);if(l.piece.bufferIndex===0&&v.end.line===this.g.line&&v.end.column===this.g.column&&$+v.length===t&&s.length<U){this.F(l,s),this.y();return}if($===t)this.o(s,l),this.h.validate(t);else if($+l.piece.length>t){const a=[];let C=new g(v.bufferIndex,P,v.end,this.t(v.bufferIndex,P,v.end),this.u(E,v.end)-this.u(E,P));if(this.K()&&this.M(s)&&this.I(l,h)===10){const p={line:C.start.line+1,column:0};C=new g(C.bufferIndex,p,C.end,this.t(C.bufferIndex,p,C.end),C.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(l,h-1)===13){const p=this.s(l,h-1);this.C(l,p),s="\r"+s,l.piece.length===0&&a.push(l)}else this.C(l,P);else this.C(l,P);const q=this.w(s);C.length>0&&this.S(l,C);let G=l;for(let A=0;A<q.length;A++)G=this.S(G,q[A]);this.v(a)}else this.q(s,l)}else{const l=this.w(s);let h=this.T(null,l[0]);for(let $=1;$<l.length;$++)h=this.S(h,l[$])}this.y()}delete(t,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===I.$jC)return;const n=this.G(t),l=this.G(t+s),h=n.node,$=l.node;if(h===$){const q=this.s(h,n.remainder),G=this.s(h,l.remainder);if(n.nodeStartOffset===t){if(s===h.piece.length){const A=h.next();(0,I.$oC)(this,h),this.N(A),this.y();return}this.D(h,G),this.h.validate(t),this.N(h),this.y();return}if(n.nodeStartOffset+h.piece.length===t+s){this.C(h,q),this.O(h),this.y();return}this.E(h,q,G),this.y();return}const v=[],E=this.s(h,n.remainder);this.C(h,E),this.h.validate(t),h.piece.length===0&&v.push(h);const P=this.s($,l.remainder);this.D($,P),$.piece.length===0&&v.push($);const a=h.next();for(let q=a;q!==I.$jC&&q!==$;q=q.next())v.push(q);const C=h.piece.length===0?h.prev():h;this.v(v),this.O(C),this.y()}o(t,s){const n=[];if(this.K()&&this.M(t)&&this.L(s)){const $=s.piece,v={line:$.start.line+1,column:0},E=new g($.bufferIndex,v,$.end,this.t($.bufferIndex,v,$.end),$.length-1);s.piece=E,t+=`
`,(0,I.$qC)(this,s,-1,-1),s.piece.length===0&&n.push(s)}const l=this.w(t);let h=this.T(s,l[l.length-1]);for(let $=l.length-2;$>=0;$--)h=this.T(h,l[$]);this.N(h),this.v(n)}q(t,s){this.Q(t,s)&&(t+=`
`);const n=this.w(t),l=this.S(s,n[0]);let h=l;for(let $=1;$<n.length;$++)h=this.S(h,n[$]);this.N(l)}s(t,s,n){const l=t.piece,h=t.piece.bufferIndex,$=this.a[h].lineStarts,E=$[l.start.line]+l.start.column+s;let P=l.start.line,a=l.end.line,C=0,q=0,G=0;for(;P<=a&&(C=P+(a-P)/2|0,G=$[C],C!==a);)if(q=$[C+1],E<G)a=C-1;else if(E>=q)P=C+1;else break;return n?(n.line=C,n.column=E-G,null):{line:C,column:E-G}}t(t,s,n){if(n.column===0)return n.line-s.line;const l=this.a[t].lineStarts;if(n.line===l.length-1)return n.line-s.line;const h=l[n.line+1],$=l[n.line]+n.column;if(h>$+1)return n.line-s.line;const v=$-1;return this.a[t].buffer.charCodeAt(v)===13?n.line-s.line+1:n.line-s.line}u(t,s){return this.a[t].lineStarts[s.line]+s.column}v(t){for(let s=0;s<t.length;s++)(0,I.$oC)(this,t[s])}w(t){if(t.length>U){const a=[];for(;t.length>U;){const q=t.charCodeAt(U-1);let G;q===13||q>=55296&&q<=56319?(G=t.substring(0,U-1),t=t.substring(U-1)):(G=t.substring(0,U),t=t.substring(U));const A=b(G);a.push(new g(this.a.length,{line:0,column:0},{line:A.length-1,column:G.length-A[A.length-1]},A.length-1,G.length)),this.a.push(new j(G,A))}const C=b(t);return a.push(new g(this.a.length,{line:0,column:0},{line:C.length-1,column:t.length-C[C.length-1]},C.length-1,t.length)),this.a.push(new j(t,C)),a}let s=this.a[0].buffer.length;const n=b(t,!1);let l=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(t)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},l=this.g;for(let a=0;a<n.length;a++)n[a]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+="_"+t,s+=1}else{if(s!==0)for(let a=0;a<n.length;a++)n[a]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+=t}const h=this.a[0].buffer.length,$=this.a[0].lineStarts.length-1,v=h-this.a[0].lineStarts[$],E={line:$,column:v},P=new g(0,l,E,this.t(0,l,E),h-s);return this.g=E,[P]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(t,s=0){let n=this.root,l="";const h=this.h.get2(t);if(h){n=h.node;const $=this.B(n,t-h.nodeStartLineNumber-1),v=this.a[n.piece.bufferIndex].buffer,E=this.u(n.piece.bufferIndex,n.piece.start);if(h.nodeStartLineNumber+n.piece.lineFeedCnt===t)l=v.substring(E+$,E+n.piece.length);else{const P=this.B(n,t-h.nodeStartLineNumber);return v.substring(E+$,E+P-s)}}else{let $=0;const v=t;for(;n!==I.$jC;)if(n.left!==I.$jC&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const E=this.B(n,t-n.lf_left-2),P=this.B(n,t-n.lf_left-1),a=this.a[n.piece.bufferIndex].buffer,C=this.u(n.piece.bufferIndex,n.piece.start);return $+=n.size_left,this.h.set({node:n,nodeStartOffset:$,nodeStartLineNumber:v-(t-1-n.lf_left)}),a.substring(C+E,C+P-s)}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const E=this.B(n,t-n.lf_left-2),P=this.a[n.piece.bufferIndex].buffer,a=this.u(n.piece.bufferIndex,n.piece.start);l=P.substring(a+E,a+n.piece.length);break}else t-=n.lf_left+n.piece.lineFeedCnt,$+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==I.$jC;){const $=this.a[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const v=this.B(n,0),E=this.u(n.piece.bufferIndex,n.piece.start);return l+=$.substring(E,E+v-s),l}else{const v=this.u(n.piece.bufferIndex,n.piece.start);l+=$.substr(v,n.piece.length)}n=n.next()}return l}y(){let t=this.root,s=1,n=0;for(;t!==I.$jC;)s+=t.lf_left+t.piece.lineFeedCnt,n+=t.size_left+t.piece.length,t=t.right;this.b=s,this.c=n,this.h.validate(this.c)}A(t,s){const n=t.piece,l=this.s(t,s),h=l.line-n.start.line;if(this.u(n.bufferIndex,n.end)-this.u(n.bufferIndex,n.start)===s){const $=this.t(t.piece.bufferIndex,n.start,l);if($!==h)return{index:$,remainder:0}}return{index:h,remainder:l.column}}B(t,s){if(s<0)return 0;const n=t.piece,l=this.a[n.bufferIndex].lineStarts,h=n.start.line+s+1;return h>n.end.line?l[n.end.line]+n.end.column-l[n.start.line]-n.start.column:l[h]-l[n.start.line]-n.start.column}C(t,s){const n=t.piece,l=n.lineFeedCnt,h=this.u(n.bufferIndex,n.end),$=s,v=this.u(n.bufferIndex,$),E=this.t(n.bufferIndex,n.start,$),P=E-l,a=v-h,C=n.length+a;t.piece=new g(n.bufferIndex,n.start,$,E,C),(0,I.$qC)(this,t,a,P)}D(t,s){const n=t.piece,l=n.lineFeedCnt,h=this.u(n.bufferIndex,n.start),$=s,v=this.t(n.bufferIndex,$,n.end),E=this.u(n.bufferIndex,$),P=v-l,a=h-E,C=n.length+a;t.piece=new g(n.bufferIndex,$,n.end,v,C),(0,I.$qC)(this,t,a,P)}E(t,s,n){const l=t.piece,h=l.start,$=l.end,v=l.length,E=l.lineFeedCnt,P=s,a=this.t(l.bufferIndex,l.start,P),C=this.u(l.bufferIndex,s)-this.u(l.bufferIndex,h);t.piece=new g(l.bufferIndex,l.start,P,a,C),(0,I.$qC)(this,t,C-v,a-E);const q=new g(l.bufferIndex,n,$,this.t(l.bufferIndex,n,$),this.u(l.bufferIndex,$)-this.u(l.bufferIndex,n)),G=this.S(t,q);this.N(G)}F(t,s){this.Q(s,t)&&(s+=`
`);const n=this.K()&&this.L(s)&&this.M(t),l=this.a[0].buffer.length;this.a[0].buffer+=s;const h=b(s,!1);for(let G=0;G<h.length;G++)h[G]+=l;if(n){const G=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:l-G}}this.a[0].lineStarts=this.a[0].lineStarts.concat(h.slice(1));const $=this.a[0].lineStarts.length-1,v=this.a[0].buffer.length-this.a[0].lineStarts[$],E={line:$,column:v},P=t.piece.length+s.length,a=t.piece.lineFeedCnt,C=this.t(0,t.piece.start,E),q=C-a;t.piece=new g(t.piece.bufferIndex,t.piece.start,E,C,P),this.g=E,(0,I.$qC)(this,t,s.length,q)}G(t){let s=this.root;const n=this.h.get(t);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:t-n.nodeStartOffset};let l=0;for(;s!==I.$jC;)if(s.size_left>t)s=s.left;else if(s.size_left+s.piece.length>=t){l+=s.size_left;const h={node:s,remainder:t-s.size_left,nodeStartOffset:l};return this.h.set(h),h}else t-=s.size_left+s.piece.length,l+=s.size_left+s.piece.length,s=s.right;return null}H(t,s){let n=this.root,l=0;for(;n!==I.$jC;)if(n.left!==I.$jC&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const h=this.B(n,t-n.lf_left-2),$=this.B(n,t-n.lf_left-1);return l+=n.size_left,{node:n,remainder:Math.min(h+s-1,$),nodeStartOffset:l}}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const h=this.B(n,t-n.lf_left-2);if(h+s-1<=n.piece.length)return{node:n,remainder:h+s-1,nodeStartOffset:l};s-=n.piece.length-h;break}else t-=n.lf_left+n.piece.lineFeedCnt,l+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==I.$jC;){if(n.piece.lineFeedCnt>0){const h=this.B(n,0),$=this.J(n);return{node:n,remainder:Math.min(s-1,h),nodeStartOffset:$}}else if(n.piece.length>=s-1){const h=this.J(n);return{node:n,remainder:s-1,nodeStartOffset:h}}else s-=n.piece.length;n=n.next()}return null}I(t,s){if(t.piece.lineFeedCnt<1)return-1;const n=this.a[t.piece.bufferIndex],l=this.u(t.piece.bufferIndex,t.piece.start)+s;return n.buffer.charCodeAt(l)}J(t){if(!t)return 0;let s=t.size_left;for(;t!==this.root;)t.parent.right===t&&(s+=t.parent.size_left+t.parent.piece.length),t=t.parent;return s}K(){return!(this.f&&this.d===`
`)}L(t){if(typeof t=="string")return t.charCodeAt(0)===10;if(t===I.$jC||t.piece.lineFeedCnt===0)return!1;const s=t.piece,n=this.a[s.bufferIndex].lineStarts,l=s.start.line,h=n[l]+s.start.column;return l===n.length-1||n[l+1]>h+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(h)===10}M(t){return typeof t=="string"?t.charCodeAt(t.length-1)===13:t===I.$jC||t.piece.lineFeedCnt===0?!1:this.I(t,t.piece.length-1)===13}N(t){if(this.K()&&this.L(t)){const s=t.prev();this.M(s)&&this.P(s,t)}}O(t){if(this.K()&&this.M(t)){const s=t.next();this.L(s)&&this.P(t,s)}}P(t,s){const n=[],l=this.a[t.piece.bufferIndex].lineStarts;let h;t.piece.end.column===0?h={line:t.piece.end.line-1,column:l[t.piece.end.line]-l[t.piece.end.line-1]-1}:h={line:t.piece.end.line,column:t.piece.end.column-1};const $=t.piece.length-1,v=t.piece.lineFeedCnt-1;t.piece=new g(t.piece.bufferIndex,t.piece.start,h,v,$),(0,I.$qC)(this,t,-1,-1),t.piece.length===0&&n.push(t);const E={line:s.piece.start.line+1,column:0},P=s.piece.length-1,a=this.t(s.piece.bufferIndex,E,s.piece.end);s.piece=new g(s.piece.bufferIndex,E,s.piece.end,a,P),(0,I.$qC)(this,s,-1,-1),s.piece.length===0&&n.push(s);const C=this.w(`\r
`);this.S(t,C[0]);for(let q=0;q<n.length;q++)(0,I.$oC)(this,n[q])}Q(t,s){if(this.K()&&this.M(t)){const n=s.next();if(this.L(n)){if(t+=`
`,n.piece.length===1)(0,I.$oC)(this,n);else{const l=n.piece,h={line:l.start.line+1,column:0},$=l.length-1,v=this.t(l.bufferIndex,h,l.end);n.piece=new g(l.bufferIndex,h,l.end,v,$),(0,I.$qC)(this,n,-1,-1)}return!0}}return!1}iterate(t,s){if(t===I.$jC)return s(I.$jC);const n=this.iterate(t.left,s);return n&&s(t)&&this.iterate(t.right,s)}R(t){if(t===I.$jC)return"";const s=this.a[t.piece.bufferIndex],n=t.piece,l=this.u(n.bufferIndex,n.start),h=this.u(n.bufferIndex,n.end);return s.buffer.substring(l,h)}getPieceContent(t){const s=this.a[t.bufferIndex],n=this.u(t.bufferIndex,t.start),l=this.u(t.bufferIndex,t.end);return s.buffer.substring(n,l)}S(t,s){const n=new I.$iC(s,1);if(n.left=I.$jC,n.right=I.$jC,n.parent=I.$jC,n.size_left=0,n.lf_left=0,this.root===I.$jC)this.root=n,n.color=0;else if(t.right===I.$jC)t.right=n,n.parent=t;else{const h=(0,I.$kC)(t.right);h.left=n,n.parent=h}return(0,I.$pC)(this,n),n}T(t,s){const n=new I.$iC(s,1);if(n.left=I.$jC,n.right=I.$jC,n.parent=I.$jC,n.size_left=0,n.lf_left=0,this.root===I.$jC)this.root=n,n.color=0;else if(t.left===I.$jC)t.left=n,n.parent=t;else{const l=(0,I.$lC)(t.left);l.right=n,n.parent=l}return(0,I.$pC)(this,n),n}U(t){let s="";return this.iterate(t,n=>(s+=this.R(n),!0)),s}}e.$CC=r}),define(ue[11],ce([0,1,4,2,3,42]),function(he,e,W,F,D,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bg=B,e.$cg=U,e.$dg=L,e.$eg=m,e.$fg=b,e.$gg=c,e.$hg=o,e.$ig=r,e.$jg=u,e.$kg=t,e.$lg=s,e.$mg=n,e.$ng=l,e.$og=h,e.$pg=$,e.$qg=P;function B(a){return a===47||a===92}function U(a){return a.replace(/[\\/]/g,W.$hc.sep)}function L(a){return a.indexOf("/")===-1&&(a=U(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}function m(a,C=W.$hc.sep){if(!a)return"";const q=a.length,G=a.charCodeAt(0);if(B(G)){if(B(a.charCodeAt(1))&&!B(a.charCodeAt(2))){let p=3;const T=p;for(;p<q&&!B(a.charCodeAt(p));p++);if(T!==p&&!B(a.charCodeAt(p+1))){for(p+=1;p<q;p++)if(B(a.charCodeAt(p)))return a.slice(0,p+1).replace(/[\\/]/g,C)}}return C}else if(u(G)&&a.charCodeAt(1)===58)return B(a.charCodeAt(2))?a.slice(0,2)+C:a.slice(0,2);let A=a.indexOf("://");if(A!==-1){for(A+=3;A<q;A++)if(B(a.charCodeAt(A)))return a.slice(0,A+1)}return""}function b(a){if(!F.$i||!a||a.length<5)return!1;let C=a.charCodeAt(0);if(C!==92||(C=a.charCodeAt(1),C!==92))return!1;let q=2;const G=q;for(;q<a.length&&(C=a.charCodeAt(q),C!==92);q++);return!(G===q||(C=a.charCodeAt(q+1),isNaN(C)||C===92))}const V=/[\\/:\*\?"<>\|]/g,g=/[\\/]/g,j=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function c(a,C=F.$i){const q=C?V:g;return!(!a||a.length===0||/^\s+$/.test(a)||(q.lastIndex=0,q.test(a))||C&&j.test(a)||a==="."||a===".."||C&&a[a.length-1]==="."||C&&a.length!==a.trim().length||a.length>255)}function o(a,C,q){const G=a===C;return!q||G?G:!a||!C?!1:(0,D.$lf)(a,C)}function r(a,C,q,G=W.sep){if(a===C)return!0;if(!a||!C||C.length>a.length)return!1;if(q){if(!(0,D.$mf)(a,C))return!1;if(C.length===a.length)return!0;let p=C.length;return C.charAt(C.length-1)===G&&p--,a.charAt(p)===G}return C.charAt(C.length-1)!==G&&(C+=G),a.indexOf(C)===0}function u(a){return a>=65&&a<=90||a>=97&&a<=122}function t(a,C){return F.$i&&a.endsWith(":")&&(a+=W.sep),(0,W.$jc)(a)||(a=(0,W.$kc)(C,a)),a=(0,W.$ic)(a),F.$i?(a=(0,D.$6e)(a,W.sep),a.endsWith(":")&&(a+=W.sep)):(a=(0,D.$6e)(a,W.sep),a||(a=W.sep)),a}function s(a){const C=(0,W.$ic)(a);return F.$i?a.length>3?!1:n(C)&&(a.length===2||C.charCodeAt(2)===92):C===W.$hc.sep}function n(a,C=F.$i){return C?u(a.charCodeAt(0))&&a.charCodeAt(1)===58:!1}function l(a,C=F.$i){return n(a,C)?a[0]:void 0}function h(a,C,q){return C.length>a.length?-1:a===C?0:(q&&(a=a.toLowerCase(),C=C.toLowerCase()),a.indexOf(C))}function $(a){const C=a.split(":");let q,G,A;for(const p of C){const T=Number(p);(0,I.$Zf)(T)?G===void 0?G=T:A===void 0&&(A=T):q=q?[q,p].join(":"):p}if(!q)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:q,line:G!==void 0?G:void 0,column:A!==void 0?A:G!==void 0?1:void 0}}const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",E="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function P(a,C,q=8){let G="";for(let p=0;p<q;p++){let T;p===0&&F.$i&&!C&&(q===3||q===4)?T=E:T=v,G+=T.charAt(Math.floor(Math.random()*T.length))}let A;return C?A=`${C}-${G}`:A=G,a?(0,W.$kc)(a,A):A}}),define(ue[21],ce([0,1,4]),function(he,e,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zs=void 0,e.$As=I,e.$Bs=B,e.$Cs=U,e.$Ds=m,e.$zs=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const F={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},D={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function I(b){const V=(0,W.$pc)(b),g=F[V.toLowerCase()];return g!==void 0?g:B(b)}function B(b){const V=(0,W.$pc)(b);return D[V.toLowerCase()]}function U(b){for(const V in D)if(D[V]===b)return V}const L=/^(.+)\/(.+?)(;.+)?$/;function m(b,V){const g=L.exec(b);return g?`${g[1].toLowerCase()}/${g[2].toLowerCase()}${g[3]??""}`:V?void 0:b}}),define(ue[7],ce([0,1,5,2,3,12,4]),function(he,e,W,F,D,I,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$vg=e.$ug=e.$tg=e.Schemas=void 0,e.$rg=L,e.$sg=m,e.$wg=V;var U;(function(c){c.inMemory="inmemory",c.vscode="vscode",c.internal="private",c.walkThrough="walkThrough",c.walkThroughSnippet="walkThroughSnippet",c.http="http",c.https="https",c.file="file",c.mailto="mailto",c.untitled="untitled",c.data="data",c.command="command",c.vscodeRemote="vscode-remote",c.vscodeRemoteResource="vscode-remote-resource",c.vscodeManagedRemoteResource="vscode-managed-remote-resource",c.vscodeUserData="vscode-userdata",c.vscodeCustomEditor="vscode-custom-editor",c.vscodeNotebookCell="vscode-notebook-cell",c.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",c.vscodeNotebookCellOutput="vscode-notebook-cell-output",c.vscodeInteractiveInput="vscode-interactive-input",c.vscodeSettings="vscode-settings",c.vscodeWorkspaceTrust="vscode-workspace-trust",c.vscodeTerminal="vscode-terminal",c.vscodeChatCodeBlock="vscode-chat-code-block",c.vscodeChatSesssion="vscode-chat-editor",c.webviewPanel="webview-panel",c.vscodeWebview="vscode-webview",c.extension="extension",c.vscodeFileResource="vscode-file",c.tmp="tmp",c.vsls="vsls",c.vscodeSourceControl="vscode-scm",c.codeSetting="code-setting"})(U||(e.Schemas=U={}));function L(c,o){return I.URI.isUri(c)?(0,D.$lf)(c.scheme,o):(0,D.$mf)(c,o+":")}function m(c,...o){return o.some(r=>L(c,r))}e.$tg="vscode-tkn",e.$ug="tkn";class b{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(o){this.d=o}setDelegate(o){this.e=o}setServerRootPath(o,r){this.f=V(o,r)}getServerRootPath(){return this.f}get g(){return B.$hc.join(this.f,U.vscodeRemoteResource)}set(o,r,u){this.a[o]=r,this.b[o]=u}setConnectionToken(o,r){this.c[o]=r}getPreferredWebSchema(){return this.d}rewrite(o){if(this.e)try{return this.e(o)}catch(l){return W.$1(l),o}const r=o.authority;let u=this.a[r];u&&u.indexOf(":")!==-1&&u.indexOf("[")===-1&&(u=`[${u}]`);const t=this.b[r],s=this.c[r];let n=`path=${encodeURIComponent(o.path)}`;return typeof s=="string"&&(n+=`&${e.$ug}=${encodeURIComponent(s)}`),I.URI.from({scheme:F.$o?this.d:U.vscodeRemoteResource,authority:`${u}:${t}`,path:this.g,query:n})}}e.$vg=new b;function V(c,o){return B.$hc.join(o??"/",`${c.quality??"oss"}-${c.commit??"dev"}`)}e.$xg="vs/../../extensions",e.$yg="vs/../../node_modules",e.$zg="vs/../../node_modules.asar",e.$Ag="vs/../../node_modules.asar.unpacked",e.$Bg="vscode-app";class g{static{this.a=e.$Bg}asBrowserUri(o){const r=this.b(o,he);return this.uriToBrowserUri(r)}uriToBrowserUri(o){return o.scheme===U.vscodeRemote?e.$vg.rewrite(o):o.scheme===U.file&&(F.$m||F.$q===`${U.vscodeFileResource}://${g.a}`)?o.with({scheme:U.vscodeFileResource,authority:o.authority||g.a,query:null,fragment:null}):o}asFileUri(o){const r=this.b(o,he);return this.uriToFileUri(r)}uriToFileUri(o){return o.scheme===U.vscodeFileResource?o.with({scheme:U.file,authority:o.authority!==g.a?o.authority:null,query:null,fragment:null}):o}b(o,r){return I.URI.isUri(o)?o:I.URI.parse(r.toUrl(o))}}e.$Cg=new g;var j;(function(c){const o=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);c.CoopAndCoep=Object.freeze(o.get("3"));const r="vscode-coi";function u(s){let n;typeof s=="string"?n=new URL(s).searchParams:s instanceof URL?n=s.searchParams:I.URI.isUri(s)&&(n=new URL(s.toString(!0)).searchParams);const l=n?.get(r);if(l)return o.get(l)}c.getHeadersFromQuery=u;function t(s,n,l){if(!globalThis.crossOriginIsolated)return;const h=n&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(r,h):s[r]=h}c.addSearchParam=t})(j||(e.COI=j={}))}),define(ue[22],ce([0,1,11,7,4,2,3,12]),function(he,e,W,F,D,I,B,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$4g=e.$3g=e.$2g=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=e.$Tg=e.$Sg=e.$Rg=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=void 0,e.$Jg=L,e.$5g=b,e.$6g=g;function L(j){return(0,U.$xc)(j,!0)}class m{constructor(c){this.a=c}compare(c,o,r=!1){return c===o?0:(0,B.$ef)(this.getComparisonKey(c,r),this.getComparisonKey(o,r))}isEqual(c,o,r=!1){return c===o?!0:!c||!o?!1:this.getComparisonKey(c,r)===this.getComparisonKey(o,r)}getComparisonKey(c,o=!1){return c.with({path:this.a(c)?c.path.toLowerCase():void 0,fragment:o?null:void 0}).toString()}ignorePathCasing(c){return this.a(c)}isEqualOrParent(c,o,r=!1){if(c.scheme===o.scheme){if(c.scheme===F.Schemas.file)return W.$ig(L(c),L(o),this.a(c))&&c.query===o.query&&(r||c.fragment===o.fragment);if((0,e.$1g)(c.authority,o.authority))return W.$ig(c.path,o.path,this.a(c),"/")&&c.query===o.query&&(r||c.fragment===o.fragment)}return!1}joinPath(c,...o){return U.URI.joinPath(c,...o)}basenameOrAuthority(c){return(0,e.$Sg)(c)||c.authority}basename(c){return D.$hc.basename(c.path)}extname(c){return D.$hc.extname(c.path)}dirname(c){if(c.path.length===0)return c;let o;return c.scheme===F.Schemas.file?o=U.URI.file(D.$nc(L(c))).path:(o=D.$hc.dirname(c.path),c.authority&&o.length&&o.charCodeAt(0)!==47&&(console.error(`dirname("${c.toString})) resulted in a relative path`),o="/")),c.with({path:o})}normalizePath(c){if(!c.path.length)return c;let o;return c.scheme===F.Schemas.file?o=U.URI.file(D.$ic(L(c))).path:o=D.$hc.normalize(c.path),c.with({path:o})}relativePath(c,o){if(c.scheme!==o.scheme||!(0,e.$1g)(c.authority,o.authority))return;if(c.scheme===F.Schemas.file){const t=D.$mc(L(c),L(o));return I.$i?W.$cg(t):t}let r=c.path||"/";const u=o.path||"/";if(this.a(c)){let t=0;for(const s=Math.min(r.length,u.length);t<s&&!(r.charCodeAt(t)!==u.charCodeAt(t)&&r.charAt(t).toLowerCase()!==u.charAt(t).toLowerCase());t++);r=u.substr(0,t)+r.substr(t)}return D.$hc.relative(r,u)}resolvePath(c,o){if(c.scheme===F.Schemas.file){const r=U.URI.file(D.$lc(L(c),o));return c.with({authority:r.authority,path:r.path})}return o=W.$dg(o),c.with({path:D.$hc.resolve(c.path,o)})}isAbsolutePath(c){return!!c.path&&c.path[0]==="/"}isEqualAuthority(c,o){return c===o||c!==void 0&&o!==void 0&&(0,B.$lf)(c,o)}hasTrailingPathSeparator(c,o=D.sep){if(c.scheme===F.Schemas.file){const r=L(c);return r.length>W.$eg(r).length&&r[r.length-1]===o}else{const r=c.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(c.fsPath)}}removeTrailingPathSeparator(c,o=D.sep){return(0,e.$2g)(c,o)?c.with({path:c.path.substr(0,c.path.length-1)}):c}addTrailingPathSeparator(c,o=D.sep){let r=!1;if(c.scheme===F.Schemas.file){const u=L(c);r=u!==void 0&&u.length===W.$eg(u).length&&u[u.length-1]===o}else{o="/";const u=c.path;r=u.length===1&&u.charCodeAt(u.length-1)===47}return!r&&!(0,e.$2g)(c,o)?c.with({path:c.path+"/"}):c}}e.$Kg=m,e.$Lg=new m(()=>!1),e.$Mg=new m(j=>j.scheme===F.Schemas.file?!I.$k:!0),e.$Ng=new m(j=>!0),e.$Og=e.$Lg.isEqual.bind(e.$Lg),e.$Pg=e.$Lg.isEqualOrParent.bind(e.$Lg),e.$Qg=e.$Lg.getComparisonKey.bind(e.$Lg),e.$Rg=e.$Lg.basenameOrAuthority.bind(e.$Lg),e.$Sg=e.$Lg.basename.bind(e.$Lg),e.$Tg=e.$Lg.extname.bind(e.$Lg),e.$Ug=e.$Lg.dirname.bind(e.$Lg),e.$Vg=e.$Lg.joinPath.bind(e.$Lg),e.$Wg=e.$Lg.normalizePath.bind(e.$Lg),e.$Xg=e.$Lg.relativePath.bind(e.$Lg),e.$Yg=e.$Lg.resolvePath.bind(e.$Lg),e.$Zg=e.$Lg.isAbsolutePath.bind(e.$Lg),e.$1g=e.$Lg.isEqualAuthority.bind(e.$Lg),e.$2g=e.$Lg.hasTrailingPathSeparator.bind(e.$Lg),e.$3g=e.$Lg.removeTrailingPathSeparator.bind(e.$Lg),e.$4g=e.$Lg.addTrailingPathSeparator.bind(e.$Lg);function b(j,c){const o=[];for(let r=0;r<j.length;r++){const u=c(j[r]);j.some((t,s)=>s===r?!1:(0,e.$Pg)(u,c(t)))||o.push(j[r])}return o}var V;(function(j){j.META_DATA_LABEL="label",j.META_DATA_DESCRIPTION="description",j.META_DATA_SIZE="size",j.META_DATA_MIME="mime";function c(o){const r=new Map;o.path.substring(o.path.indexOf(";")+1,o.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,l]=s.split(":");n&&l&&r.set(n,l)});const t=o.path.substring(0,o.path.indexOf(";"));return t&&r.set(j.META_DATA_MIME,t),r}j.parseMetaData=c})(V||(e.DataUri=V={}));function g(j,c,o){if(c){let r=j.path;return r&&r[0]!==D.$hc.sep&&(r=D.$hc.sep+r),j.with({scheme:o,authority:c,path:r})}return j.with({scheme:o})}}),define(ue[23],ce([0,1,43,5,24,8,22,2,16,15]),function(he,e,W,F,D,I,B,U,L,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lh=e.$Jh=e.$Ih=e.$Hh=e.$Gh=e.Promises=e.$Fh=e.$Eh=e.$Dh=e.$Bh=e.$Ah=e.$zh=e.$yh=e.$xh=e.$wh=e.$vh=e.$uh=e.$th=e.$sh=e.$rh=e.$qh=e.$ph=e.$oh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=void 0,e.$7g=b,e.$8g=V,e.$9g=g,e.$0g=j,e.$$g=c,e.$_g=o,e.$ah=r,e.$bh=u,e.$jh=a,e.$kh=C,e.$lh=q,e.$mh=G,e.$nh=A,e.$Ch=N,e.$Kh=se;function b(R){return!!R&&typeof R.then=="function"}function V(R){const d=new W.$ee,y=R(d.token),z=new Promise((J,x)=>{const ae=d.token.onCancellationRequested(()=>{ae.dispose(),x(new F.$5)});Promise.resolve(y).then(fe=>{ae.dispose(),d.dispose(),J(fe)},fe=>{ae.dispose(),d.dispose(),x(fe)})});return new class{cancel(){d.cancel(),d.dispose()}then(J,x){return z.then(J,x)}catch(J){return this.then(void 0,J)}finally(J){return z.finally(J)}}}function g(R,d,y){return new Promise((z,J)=>{const x=d.onCancellationRequested(()=>{x.dispose(),z(y)});R.then(z,J).finally(()=>x.dispose())})}function j(R,d){return new Promise((y,z)=>{const J=d.onCancellationRequested(()=>{J.dispose(),z(new F.$5)});R.then(y,z).finally(()=>J.dispose())})}async function c(R){let d=-1;const y=R.map((z,J)=>z.then(x=>(d=J,x)));try{return await Promise.race(y)}finally{R.forEach((z,J)=>{J!==d&&z.cancel()})}}function o(R,d,y){let z;const J=setTimeout(()=>{z?.(void 0),y?.()},d);return Promise.race([R.finally(()=>clearTimeout(J)),new Promise(x=>z=x)])}function r(R){return new Promise((d,y)=>{const z=R();b(z)?z.then(d,y):d(z)})}function u(){let R,d;return{promise:new Promise((z,J)=>{R=z,d=J}),resolve:R,reject:d}}class t{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(d){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=d,!this.b){const y=()=>{if(this.b=null,this.f)return;const z=this.queue(this.d);return this.d=null,z};this.b=new Promise(z=>{this.a.then(y,y).then(z)})}return new Promise((y,z)=>{this.b.then(y,z)})}return this.a=d(),new Promise((y,z)=>{this.a.then(J=>{this.a=null,y(J)},J=>{this.a=null,z(J)})})}dispose(){this.f=!0}}e.$ch=t;class s{constructor(){this.a=Promise.resolve(null)}queue(d){return this.a=this.a.then(()=>d(),()=>d())}}e.$dh=s;class n{constructor(){this.a=new Map}queue(d,y){const J=(this.a.get(d)??Promise.resolve()).catch(()=>{}).then(y).finally(()=>{this.a.get(d)===J&&this.a.delete(d)});return this.a.set(d,J),J}}e.$eh=n;const l=(R,d)=>{let y=!0;const z=setTimeout(()=>{y=!1,d()},R);return{isTriggered:()=>y,dispose:()=>{clearTimeout(z),y=!1}}},h=R=>{let d=!0;return queueMicrotask(()=>{d&&(d=!1,R())}),{isTriggered:()=>d,dispose:()=>{d=!1}}};class ${constructor(d){this.defaultDelay=d,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(d,y=this.defaultDelay){this.g=d,this.h(),this.b||(this.b=new Promise((J,x)=>{this.d=J,this.f=x}).then(()=>{if(this.b=null,this.d=null,this.g){const J=this.g;return this.g=null,J()}}));const z=()=>{this.a=null,this.d?.(null)};return this.a=y===L.$4d?h(z):l(y,z),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new F.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$fh=$;class v{constructor(d){this.a=new $(d),this.b=new t}trigger(d,y){return this.a.trigger(()=>this.b.queue(d),y)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$gh=v;class E{constructor(){this.a=!1,this.b=new Promise((d,y)=>{this.d=d})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$hh=E;class P extends E{constructor(d){super(),this.f=setTimeout(()=>this.open(),d)}open(){clearTimeout(this.f),super.open()}}e.$ih=P;function a(R,d){return d?new Promise((y,z)=>{const J=setTimeout(()=>{x.dispose(),y()},R),x=d.onCancellationRequested(()=>{clearTimeout(J),x.dispose(),z(new F.$5)})}):V(y=>a(R,y))}function C(R,d=0,y){const z=setTimeout(()=>{R(),y&&J.dispose()},d),J=(0,I.$Sc)(()=>{clearTimeout(z),y?.deleteAndLeak(J)});return y?.add(J),J}function q(R){const d=[];let y=0;const z=R.length;function J(){return y<z?R[y++]():null}function x(ae){ae!=null&&d.push(ae);const fe=J();return fe?fe.then(x):Promise.resolve(d)}return Promise.resolve(null).then(x)}function G(R,d=z=>!!z,y=null){let z=0;const J=R.length,x=()=>{if(z>=J)return Promise.resolve(y);const ae=R[z++];return Promise.resolve(ae()).then(de=>d(de)?Promise.resolve(de):x())};return x()}function A(R,d=z=>!!z,y=null){if(R.length===0)return Promise.resolve(y);let z=R.length;const J=()=>{z=-1;for(const x of R)x.cancel?.()};return new Promise((x,ae)=>{for(const fe of R)fe.then(de=>{--z>=0&&d(de)?(J(),x(de)):z===0&&x(y)}).catch(de=>{--z>=0&&(J(),ae(de))})})}class p{constructor(d){this.a=0,this.b=!1,this.f=d,this.g=[],this.d=0,this.h=new D.$7d}whenIdle(){return this.size>0?D.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(d){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((y,z)=>{this.g.push({factory:d,c:y,e:z}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const d=this.g.shift();this.d++;const y=d.factory();y.then(d.c,d.e),y.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$oh=p;class T extends p{constructor(){super(1)}}e.$ph=T;class _{constructor(){this.a=new Y,this.b=0}queue(d){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,d())):this.a.run(this.b++,d())}}e.$qh=_;class ie{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const d=new te;return this.b.add(d),d.p}g(){for(const[,d]of this.a)if(d.size>0)return!1;return!0}queueSize(d,y=B.$Lg){const z=y.getComparisonKey(d);return this.a.get(z)?.size??0}queueFor(d,y,z=B.$Lg){const J=z.getComparisonKey(d);let x=this.a.get(J);if(!x){x=new T;const ae=this.f++,fe=D.Event.once(x.onDrained)(()=>{x?.dispose(),this.a.delete(J),this.h(),this.d?.deleteAndDispose(ae),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new I.$4c),this.d.set(ae,fe),this.a.set(J,x)}return x.queue(y)}h(){this.g()&&this.j()}j(){for(const d of this.b)d.complete();this.b.clear()}dispose(){for(const[,d]of this.a)d.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$rh=ie;class le{constructor(d,y){this.a=-1,typeof d=="function"&&typeof y=="number"&&this.setIfNotSet(d,y)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(d,y){this.cancel(),this.a=setTimeout(()=>{this.a=-1,d()},y)}setIfNotSet(d,y){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,d()},y))}}e.$sh=le;class re{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(d,y,z=globalThis){this.cancel();const J=z.setInterval(()=>{d()},y);this.d=(0,I.$Sc)(()=>{z.clearInterval(J),this.d=void 0})}dispose(){this.cancel()}}e.$th=re;class ne{constructor(d,y){this.b=-1,this.a=d,this.d=y,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(d=this.d){this.cancel(),this.b=setTimeout(this.f,d)}get delay(){return this.d}set delay(d){this.d=d}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$uh=ne;class oe{constructor(d,y){y%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${y}ms is not a multiple of 1000ms.`),this.a=d,this.b=y,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(d=this.b){d%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${d}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(d/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$vh=oe;class w extends ne{constructor(d,y){super(d,y),this.j=[]}work(d){this.j.push(d),this.isScheduled()||this.schedule()}h(){const d=this.j;this.j=[],this.a?.(d)}dispose(){this.j=[],super.dispose()}}e.$wh=w;class ee extends I.$Uc{constructor(d,y){super(),this.g=d,this.h=y,this.a=[],this.b=this.B(new I.$Vc),this.f=!1}get pending(){return this.a.length}work(d){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+d.length>this.g.maxBufferedWork)return!1}else if(this.pending+d.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const y of d)this.a.push(y);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new ne(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$xh=ee,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$zh=(R,d)=>{(0,U.$B)(()=>{if(y)return;const z=Date.now()+15;d(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,z-Date.now())}}))});let y=!1;return{dispose(){y||(y=!0)}}}:e.$zh=(R,d,y)=>{const z=R.requestIdleCallback(d,typeof y=="number"?{timeout:y}:void 0);let J=!1;return{dispose(){J||(J=!0,R.cancelIdleCallback(z))}}},e.$yh=R=>(0,e.$zh)(globalThis,R)}();class M{constructor(d,y){this.g=!1,this.d=()=>{try{this.j=y()}catch(z){this.l=z}finally{this.g=!0}},this.f=(0,e.$zh)(d,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Ah=M;class K extends M{constructor(d){super(globalThis,d)}}e.$Bh=K;async function N(R,d,y){let z;for(let J=0;J<y;J++)try{return await R()}catch(x){z=x,await a(d)}throw z}class Y{isRunning(d){return typeof d=="number"?this.a?.taskId===d:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(d,y,z){return this.a={taskId:d,cancel:()=>z?.(),promise:y},y.then(()=>this.d(d),()=>this.d(d)),y}d(d){this.a&&d===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const d=this.b;this.b=void 0,d.run().then(d.promiseResolve,d.promiseReject)}}queue(d){if(this.b)this.b.run=d;else{const{promise:y,resolve:z,reject:J}=u();this.b={run:d,promise:y,promiseResolve:z,promiseReject:J}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$Dh=Y;class H{constructor(d,y=()=>Date.now()){this.d=d,this.f=y,this.a=0,this.b=0}increment(){const d=this.f();return d-this.a>this.d&&(this.a=d,this.b=0),this.b++,this.b}}e.$Eh=H;var Q;(function(R){R[R.Resolved=0]="Resolved",R[R.Rejected=1]="Rejected"})(Q||(Q={}));class te{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((d,y)=>{this.a=d,this.b=y})}complete(d){return new Promise(y=>{this.a(d),this.d={outcome:0,value:d},y()})}error(d){return new Promise(y=>{this.b(d),this.d={outcome:1,value:d},y()})}cancel(){return this.error(new F.$5)}}e.$Fh=te;var X;(function(R){async function d(z){let J;const x=await Promise.all(z.map(ae=>ae.then(fe=>fe,fe=>{J||(J=fe)})));if(typeof J<"u")throw J;return x}R.settled=d;function y(z){return new Promise(async(J,x)=>{try{await z(J,x)}catch(ae){x(ae)}})}R.withAsyncBody=y})(X||(e.Promises=X={}));class O{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(d){this.a=void 0,this.b=void 0,this.d=!1,this.promise=d.then(y=>(this.a=y,this.d=!0,y),y=>{throw this.b=y,this.d=!0,y})}requireValue(){if(!this.d)throw new F.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$Gh=O;class i{constructor(d){this.b=d,this.a=new m.$V(()=>new O(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$Hh=i;var f;(function(R){R[R.Initial=0]="Initial",R[R.DoneOK=1]="DoneOK",R[R.DoneError=2]="DoneError"})(f||(f={}));class S{static fromArray(d){return new S(y=>{y.emitMany(d)})}static fromPromise(d){return new S(async y=>{y.emitMany(await d)})}static fromPromises(d){return new S(async y=>{await Promise.all(d.map(async z=>y.emitOne(await z)))})}static merge(d){return new S(async y=>{await Promise.all(d.map(async z=>{for await(const J of z)y.emitOne(J)}))})}static{this.EMPTY=S.fromArray([])}constructor(d){this.a=0,this.b=[],this.d=null,this.f=new D.$7d,queueMicrotask(async()=>{const y={emitOne:z=>this.g(z),emitMany:z=>this.h(z),reject:z=>this.k(z)};try{await Promise.resolve(d(y)),this.j()}catch(z){this.k(z)}finally{y.emitOne=void 0,y.emitMany=void 0,y.reject=void 0}})}[Symbol.asyncIterator](){let d=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(d<this.b.length)return{done:!1,value:this.b[d++]};if(this.a===1)return{done:!0,value:void 0};await D.Event.toPromise(this.f.event)}while(!0)}}}static map(d,y){return new S(async z=>{for await(const J of d)z.emitOne(y(J))})}map(d){return S.map(this,d)}static filter(d,y){return new S(async z=>{for await(const J of d)y(J)&&z.emitOne(J)})}filter(d){return S.filter(this,d)}static coalesce(d){return S.filter(d,y=>!!y)}coalesce(){return S.coalesce(this)}static async toPromise(d){const y=[];for await(const z of d)y.push(z);return y}toPromise(){return S.toPromise(this)}g(d){this.a===0&&(this.b.push(d),this.f.fire())}h(d){this.a===0&&(this.b=this.b.concat(d),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(d){this.a===0&&(this.a=2,this.d=d,this.f.fire())}}e.$Ih=S;class k extends S{constructor(d,y){super(y),this.l=d}cancel(){this.l.cancel()}}e.$Jh=k;function se(R){const d=new W.$ee,y=R(d.token);return new k(d,async z=>{const J=d.token.onCancellationRequested(()=>{J.dispose(),d.dispose(),z.reject(new F.$5)});try{for await(const x of y){if(d.token.isCancellationRequested)return;z.emitOne(x)}J.dispose(),d.dispose()}catch(x){J.dispose(),d.dispose(),z.reject(x)}})}class Z{constructor(){this.a=new te,this.b=new S(z=>{if(d){z.reject(d);return}return y&&z.emitMany(y),this.d=J=>z.reject(J),this.f=J=>z.emitOne(J),this.a.p});let d,y;this.f=z=>{y||(y=[]),y.push(z)},this.d=z=>{d||(d=z)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(d){this.d(d),this.a.complete()}emitOne(d){this.f(d)}}e.$Lh=Z}),define(ue[25],ce([0,1,44,23,11,26,4,2,3]),function(he,e,W,F,D,I,B,U,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_j=e.$$j=void 0,e.$0j=m,e.$ak=c,e.$bk=T,e.$ck=_,e.$dk=ie,e.$ek=le,e.$fk=re,e.$gk=ee;function m(){return Object.create(null)}e.$$j="**",e.$_j="/";const b="[/\\\\]",V="[^/\\\\]",g=/\//g;function j(M,K){switch(M){case 0:return"";case 1:return`${V}*?`;default:return`(?:${b}|${V}+${b}${K?`|${b}${V}+`:""})*?`}}function c(M,K){if(!M)return[];const N=[];let Y=!1,H=!1,Q="";for(const te of M){switch(te){case K:if(!Y&&!H){N.push(Q),Q="";continue}break;case"{":Y=!0;break;case"}":Y=!1;break;case"[":H=!0;break;case"]":H=!1;break}Q+=te}return Q&&N.push(Q),N}function o(M){if(!M)return"";let K="";const N=c(M,e.$_j);if(N.every(Y=>Y===e.$$j))K=".*";else{let Y=!1;N.forEach((H,Q)=>{if(H===e.$$j){if(Y)return;K+=j(2,Q===N.length-1)}else{let te=!1,X="",O=!1,i="";for(const f of H){if(f!=="}"&&te){X+=f;continue}if(O&&(f!=="]"||!i)){let S;f==="-"?S=f:(f==="^"||f==="!")&&!i?S="^":f===e.$_j?S="":S=(0,L.$Ze)(f),i+=S;continue}switch(f){case"{":te=!0;continue;case"[":O=!0;continue;case"}":{const k=`(?:${c(X,",").map(se=>o(se)).join("|")})`;K+=k,te=!1,X="";break}case"]":{K+="["+i+"]",O=!1,i="";break}case"?":K+=V;continue;case"*":K+=j(1);continue;default:K+=(0,L.$Ze)(f)}}Q<N.length-1&&(N[Q+1]!==e.$$j||Q+2<N.length)&&(K+=b)}Y=H===e.$$j})}return K}const r=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,t=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new I.$Ec(1e4),$=function(){return!1},v=function(){return null};function E(M,K){if(!M)return v;let N;typeof M!="string"?N=M.pattern:N=M,N=N.trim();const Y=`${N}_${!!K.trimForExclusions}`;let H=h.get(Y);if(H)return P(H,M);let Q;return r.test(N)?H=C(N.substr(4),N):(Q=u.exec(a(N,K)))?H=q(Q[1],N):(K.trimForExclusions?s:t).test(N)?H=G(N,K):(Q=n.exec(a(N,K)))?H=A(Q[1].substr(1),N,!0):(Q=l.exec(a(N,K)))?H=A(Q[1],N,!1):H=p(N),h.set(Y,H),P(H,M)}function P(M,K){if(typeof K=="string")return M;const N=function(Y,H){return(0,D.$ig)(Y,K.base,!U.$k)?M((0,L.$5e)(Y.substr(K.base.length),B.sep),H):null};return N.allBasenames=M.allBasenames,N.allPaths=M.allPaths,N.basenames=M.basenames,N.patterns=M.patterns,N}function a(M,K){return K.trimForExclusions&&M.endsWith("/**")?M.substr(0,M.length-2):M}function C(M,K){return function(N,Y){return typeof N=="string"&&N.endsWith(M)?K:null}}function q(M,K){const N=`/${M}`,Y=`\\${M}`,H=function(te,X){return typeof te!="string"?null:X?X===M?K:null:te===M||te.endsWith(N)||te.endsWith(Y)?K:null},Q=[M];return H.basenames=Q,H.patterns=[K],H.allBasenames=Q,H}function G(M,K){const N=w(M.slice(1,-1).split(",").map(X=>E(X,K)).filter(X=>X!==v),M),Y=N.length;if(!Y)return v;if(Y===1)return N[0];const H=function(X,O){for(let i=0,f=N.length;i<f;i++)if(N[i](X,O))return M;return null},Q=N.find(X=>!!X.allBasenames);Q&&(H.allBasenames=Q.allBasenames);const te=N.reduce((X,O)=>O.allPaths?X.concat(O.allPaths):X,[]);return te.length&&(H.allPaths=te),H}function A(M,K,N){const Y=B.sep===B.$hc.sep,H=Y?M:M.replace(g,B.sep),Q=B.sep+H,te=B.$hc.sep+M;let X;return N?X=function(O,i){return typeof O=="string"&&(O===H||O.endsWith(Q)||!Y&&(O===M||O.endsWith(te)))?K:null}:X=function(O,i){return typeof O=="string"&&(O===H||!Y&&O===M)?K:null},X.allPaths=[(N?"*/":"./")+M],X}function p(M){try{const K=new RegExp(`^${o(M)}$`);return function(N){return K.lastIndex=0,typeof N=="string"&&K.test(N)?M:null}}catch{return v}}function T(M,K,N){return!M||typeof K!="string"?!1:_(M)(K,void 0,N)}function _(M,K={}){if(!M)return $;if(typeof M=="string"||ie(M)){const N=E(M,K);if(N===v)return $;const Y=function(H,Q){return!!N(H,Q)};return N.allBasenames&&(Y.allBasenames=N.allBasenames),N.allPaths&&(Y.allPaths=N.allPaths),Y}return ne(M,K)}function ie(M){const K=M;return K?typeof K.base=="string"&&typeof K.pattern=="string":!1}function le(M){return M.allBasenames||[]}function re(M){return M.allPaths||[]}function ne(M,K){const N=w(Object.getOwnPropertyNames(M).map(X=>oe(X,M[X],K)).filter(X=>X!==v)),Y=N.length;if(!Y)return v;if(!N.some(X=>!!X.requiresSiblings)){if(Y===1)return N[0];const X=function(f,S){let k;for(let se=0,Z=N.length;se<Z;se++){const R=N[se](f,S);if(typeof R=="string")return R;(0,F.$7g)(R)&&(k||(k=[]),k.push(R))}return k?(async()=>{for(const se of k){const Z=await se;if(typeof Z=="string")return Z}return null})():null},O=N.find(f=>!!f.allBasenames);O&&(X.allBasenames=O.allBasenames);const i=N.reduce((f,S)=>S.allPaths?f.concat(S.allPaths):f,[]);return i.length&&(X.allPaths=i),X}const H=function(X,O,i){let f,S;for(let k=0,se=N.length;k<se;k++){const Z=N[k];Z.requiresSiblings&&i&&(O||(O=(0,B.$oc)(X)),f||(f=O.substr(0,O.length-(0,B.$pc)(X).length)));const R=Z(X,O,f,i);if(typeof R=="string")return R;(0,F.$7g)(R)&&(S||(S=[]),S.push(R))}return S?(async()=>{for(const k of S){const se=await k;if(typeof se=="string")return se}return null})():null},Q=N.find(X=>!!X.allBasenames);Q&&(H.allBasenames=Q.allBasenames);const te=N.reduce((X,O)=>O.allPaths?X.concat(O.allPaths):X,[]);return te.length&&(H.allPaths=te),H}function oe(M,K,N){if(K===!1)return v;const Y=E(M,N);if(Y===v)return v;if(typeof K=="boolean")return Y;if(K){const H=K.when;if(typeof H=="string"){const Q=(te,X,O,i)=>{if(!i||!Y(te,X))return null;const f=H.replace("$(basename)",()=>O),S=i(f);return(0,F.$7g)(S)?S.then(k=>k?M:null):S?M:null};return Q.requiresSiblings=!0,Q}}return Y}function w(M,K){const N=M.filter(X=>!!X.basenames);if(N.length<2)return M;const Y=N.reduce((X,O)=>{const i=O.basenames;return i?X.concat(i):X},[]);let H;if(K){H=[];for(let X=0,O=Y.length;X<O;X++)H.push(K)}else H=N.reduce((X,O)=>{const i=O.patterns;return i?X.concat(i):X},[]);const Q=function(X,O){if(typeof X!="string")return null;if(!O){let f;for(f=X.length;f>0;f--){const S=X.charCodeAt(f-1);if(S===47||S===92)break}O=X.substr(f)}const i=Y.indexOf(O);return i!==-1?H[i]:null};Q.basenames=Y,Q.patterns=H,Q.allBasenames=Y;const te=M.filter(X=>!X.basenames);return te.push(Q),te}function ee(M,K){return(0,W.$ub)(M,K,(N,Y)=>typeof N=="string"&&typeof Y=="string"?N===Y:typeof N!="string"&&typeof Y!="string"?N.base===Y.base&&N.pattern===Y.pattern:!1)}}),define(ue[27],ce([0,1,3,2,6]),function(he,e,W,F,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wt=void 0,e.$ut=b,e.$vt=V;let I;function B(){return I||(I=new TextDecoder("UTF-16LE")),I}let U;function L(){return U||(U=new TextDecoder("UTF-16BE")),U}let m;function b(){return m||(m=F.$D()?B():L()),m}function V(c,o,r){const u=new Uint16Array(c.buffer,o,r);return r>0&&(u[0]===65279||u[0]===65534)?g(c,o,r):B().decode(u)}function g(c,o,r){const u=[];let t=0;for(let s=0;s<r;s++){const n=D.$we(c,o);o+=2,u[t++]=String.fromCharCode(n)}return u.join("")}class j{constructor(o){this.a=o|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const o=new Uint16Array(this.b.buffer,0,this.d);return b().decode(o)}f(){const o=this.e();this.d=0,this.c===null?this.c=[o]:this.c[this.c.length]=o}appendCharCode(o){const r=this.a-this.d;r<=1&&(r===0||W.$pf(o))&&this.f(),this.b[this.d++]=o}appendASCIICharCode(o){this.d===this.a&&this.f(),this.b[this.d++]=o}appendString(o){const r=o.length;if(this.d+r>=this.a){this.f(),this.c[this.c.length]=o;return}for(let u=0;u<r;u++)this.b[this.d++]=o.charCodeAt(u)}}e.$wt=j}),define(ue[28],ce([0,1,6,27]),function(he,e,W,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xt=void 0,e.$yt=B;function D(L){return L.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(m,b,V,g){this.oldPosition=m,this.oldText=b,this.newPosition=V,this.newText=g}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${D(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${D(this.oldText)}")`:`(replace@${this.oldPosition} "${D(this.oldText)}" with "${D(this.newText)}")`}static a(m){return 4+2*m.length}static c(m,b,V){const g=b.length;W.$ze(m,g,V),V+=4;for(let j=0;j<g;j++)W.$xe(m,b.charCodeAt(j),V),V+=2;return V}static d(m,b){const V=W.$ye(m,b);return b+=4,(0,F.$vt)(m,b,V)}writeSize(){return 8+I.a(this.oldText)+I.a(this.newText)}write(m,b){return W.$ze(m,this.oldPosition,b),b+=4,W.$ze(m,this.newPosition,b),b+=4,b=I.c(m,this.oldText,b),b=I.c(m,this.newText,b),b}static read(m,b,V){const g=W.$ye(m,b);b+=4;const j=W.$ye(m,b);b+=4;const c=I.d(m,b);b+=I.a(c);const o=I.d(m,b);return b+=I.a(o),V.push(new I(g,c,j,o)),b}}e.$xt=I;function B(L,m){return L===null||L.length===0?m:new U(L,m).compress()}class U{constructor(m,b){this.a=m,this.c=b,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let m=0,b=0,V=this.n(m),g=this.l(b);for(;m<this.f||b<this.h;){if(V===null){this.k(g),g=this.l(++b);continue}if(g===null){this.m(V),V=this.n(++m);continue}if(g.oldEnd<=V.newPosition){this.k(g),g=this.l(++b);continue}if(V.newEnd<=g.oldPosition){this.m(V),V=this.n(++m);continue}if(g.oldPosition<V.newPosition){const[u,t]=U.r(g,V.newPosition-g.oldPosition);this.k(u),g=t;continue}if(V.newPosition<g.oldPosition){const[u,t]=U.q(V,g.oldPosition-V.newPosition);this.m(u),V=t;continue}let o,r;if(g.oldEnd===V.newEnd)o=V,r=g,V=this.n(++m),g=this.l(++b);else if(g.oldEnd<V.newEnd){const[u,t]=U.q(V,g.oldLength);o=u,r=g,V=t,g=this.l(++b)}else{const[u,t]=U.r(g,V.newLength);o=V,r=u,V=this.n(++m),g=t}this.d[this.e++]=new I(o.oldPosition,o.oldText,r.newPosition,r.newText),this.g+=o.newLength-o.oldLength,this.j+=r.newLength-r.oldLength}const j=U.s(this.d);return U.t(j)}k(m){this.d[this.e++]=U.o(this.g,m),this.j+=m.newLength-m.oldLength}l(m){return m<this.h?this.c[m]:null}m(m){this.d[this.e++]=U.p(this.j,m),this.g+=m.newLength-m.oldLength}n(m){return m<this.f?this.a[m]:null}static o(m,b){return new I(b.oldPosition-m,b.oldText,b.newPosition,b.newText)}static p(m,b){return new I(b.oldPosition,b.oldText,b.newPosition+m,b.newText)}static q(m,b){const V=m.newText.substr(0,b),g=m.newText.substr(b);return[new I(m.oldPosition,m.oldText,m.newPosition,V),new I(m.oldEnd,"",m.newPosition+b,g)]}static r(m,b){const V=m.oldText.substr(0,b),g=m.oldText.substr(b);return[new I(m.oldPosition,V,m.newPosition,m.newText),new I(m.oldPosition+b,g,m.newEnd,"")]}static s(m){if(m.length===0)return m;const b=[];let V=0,g=m[0];for(let j=1;j<m.length;j++){const c=m[j];g.oldEnd===c.oldPosition?g=new I(g.oldPosition,g.oldText+c.oldText,g.newPosition,g.newText+c.newText):(b[V++]=g,g=c)}return b[V++]=g,b}static t(m){if(m.length===0)return m;const b=[];let V=0;for(let g=0;g<m.length;g++){const j=m[g];j.oldText!==j.newText&&(b[V++]=j)}return b}}}),define(ue[29],ce([0,1,24,3,10,19,9,17,28,8]),function(he,e,W,F,D,I,B,U,L,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$DC=void 0;class b extends m.$Uc{constructor(g,j,c,o,r,u,t){super(),this.m=this.B(new W.$7d),this.onDidChangeContent=this.m.event,this.f=j,this.j=!u,this.g=o,this.h=r,this.c=new B.$CC(g,c,t)}equals(g){return!(g instanceof b)||this.f!==g.f||this.getEOL()!==g.getEOL()?!1:this.c.equal(g.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(g){return this.c.createSnapshot(g?this.f:"")}getOffsetAt(g,j){return this.c.getOffsetAt(g,j)}getPositionAt(g){return this.c.getPositionAt(g)}getRangeAt(g,j){const c=g+j,o=this.getPositionAt(g),r=this.getPositionAt(c);return new D.$ct(o.lineNumber,o.column,r.lineNumber,r.column)}getValueInRange(g,j=0){if(g.isEmpty())return"";const c=this.n(j);return this.c.getValueInRange(g,c)}getValueLengthInRange(g,j=0){if(g.isEmpty())return 0;if(g.startLineNumber===g.endLineNumber)return g.endColumn-g.startColumn;const c=this.getOffsetAt(g.startLineNumber,g.startColumn),o=this.getOffsetAt(g.endLineNumber,g.endColumn);let r=0;const u=this.n(j),t=this.getEOL();if(u.length!==t.length){const s=u.length-t.length,n=g.endLineNumber-g.startLineNumber;r=s*n}return o-c+r}getCharacterCountInRange(g,j=0){if(this.j){let c=0;const o=g.startLineNumber,r=g.endLineNumber;for(let u=o;u<=r;u++){const t=this.getLineContent(u),s=u===o?g.startColumn-1:0,n=u===r?g.endColumn-1:t.length;for(let l=s;l<n;l++)F.$pf(t.charCodeAt(l))?(c=c+1,l=l+1):c=c+1}return c+=this.n(j).length*(r-o),c}return this.getValueLengthInRange(g,j)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(g){return this.c.getLineContent(g)}getLineCharCode(g,j){return this.c.getLineCharCode(g,j)}getCharCode(g){return this.c.getCharCode(g)}getLineLength(g){return this.c.getLineLength(g)}getLineMinColumn(g){return 1}getLineMaxColumn(g){return this.getLineLength(g)+1}getLineFirstNonWhitespaceColumn(g){const j=F.$af(this.getLineContent(g));return j===-1?0:j+1}getLineLastNonWhitespaceColumn(g){const j=F.$cf(this.getLineContent(g));return j===-1?0:j+2}n(g){switch(g){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(g){this.c.setEOL(g)}applyEdits(g,j,c){let o=this.g,r=this.h,u=this.j,t=!0,s=[];for(let P=0;P<g.length;P++){const a=g[P];t&&a._isTracked&&(t=!1);const C=a.range;if(a.text){let T=!0;u||(T=!F.$Af(a.text),u=T),!o&&T&&(o=F.$zf(a.text)),!r&&T&&(r=F.$Cf(a.text))}let q="",G=0,A=0,p=0;if(a.text){let T;[G,A,p,T]=(0,U.$Ot)(a.text);const _=this.getEOL();T===0||T===(_===`\r
`?2:1)?q=a.text:q=a.text.replace(/\r\n|\r|\n/g,_)}s[P]={sortIndex:P,identifier:a.identifier||null,range:C,rangeOffset:this.getOffsetAt(C.startLineNumber,C.startColumn),rangeLength:this.getValueLengthInRange(C),text:q,eolCount:G,firstLineLength:A,lastLineLength:p,forceMoveMarkers:!!a.forceMoveMarkers,isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||!1}}s.sort(b.u);let n=!1;for(let P=0,a=s.length-1;P<a;P++){const C=s[P].range.getEndPosition(),q=s[P+1].range.getStartPosition();if(q.isBeforeOrEqual(C)){if(q.isBefore(C))throw new Error("Overlapping ranges are not allowed!");n=!0}}t&&(s=this.s(s));const l=c||j?b._getInverseEditRanges(s):[],h=[];if(j)for(let P=0;P<s.length;P++){const a=s[P],C=l[P];if(a.isAutoWhitespaceEdit&&a.range.isEmpty())for(let q=C.startLineNumber;q<=C.endLineNumber;q++){let G="";q===C.startLineNumber&&(G=this.getLineContent(a.range.startLineNumber),F.$af(G)!==-1)||h.push({lineNumber:q,oldContent:G})}}let $=null;if(c){let P=0;$=[];for(let a=0;a<s.length;a++){const C=s[a],q=l[a],G=this.getValueInRange(C.range),A=C.rangeOffset+P;P+=C.text.length-G.length,$[a]={sortIndex:C.sortIndex,identifier:C.identifier,range:q,text:G,textChange:new L.$xt(C.rangeOffset,G,A,C.text)}}n||$.sort((a,C)=>a.sortIndex-C.sortIndex)}this.g=o,this.h=r,this.j=u;const v=this.t(s);let E=null;if(j&&h.length>0){h.sort((P,a)=>a.lineNumber-P.lineNumber),E=[];for(let P=0,a=h.length;P<a;P++){const C=h[P].lineNumber;if(P>0&&h[P-1].lineNumber===C)continue;const q=h[P].oldContent,G=this.getLineContent(C);G.length===0||G===q||F.$af(G)!==-1||E.push(C)}}return this.m.fire(),new I.$Av($,v,E)}s(g){return g.length<1e3?g:[this._toSingleEditOperation(g)]}_toSingleEditOperation(g){let j=!1;const c=g[0].range,o=g[g.length-1].range,r=new D.$ct(c.startLineNumber,c.startColumn,o.endLineNumber,o.endColumn);let u=c.startLineNumber,t=c.startColumn;const s=[];for(let v=0,E=g.length;v<E;v++){const P=g[v],a=P.range;j=j||P.forceMoveMarkers,s.push(this.getValueInRange(new D.$ct(u,t,a.startLineNumber,a.startColumn))),P.text.length>0&&s.push(P.text),u=a.endLineNumber,t=a.endColumn}const n=s.join(""),[l,h,$]=(0,U.$Ot)(n);return{sortIndex:0,identifier:g[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:n,eolCount:l,firstLineLength:h,lastLineLength:$,forceMoveMarkers:j,isAutoWhitespaceEdit:!1}}t(g){g.sort(b.w);const j=[];for(let c=0;c<g.length;c++){const o=g[c],r=o.range.startLineNumber,u=o.range.startColumn,t=o.range.endLineNumber,s=o.range.endColumn;if(r===t&&u===s&&o.text.length===0)continue;o.text?(this.c.delete(o.rangeOffset,o.rangeLength),this.c.insert(o.rangeOffset,o.text,!0)):this.c.delete(o.rangeOffset,o.rangeLength);const n=new D.$ct(r,u,t,s);j.push({range:n,rangeLength:o.rangeLength,text:o.text,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}return j}findMatchesLineByLine(g,j,c,o){return this.c.findMatchesLineByLine(g,j,c,o)}getPieceTree(){return this.c}static _getInverseEditRange(g,j){const c=g.startLineNumber,o=g.startColumn,[r,u,t]=(0,U.$Ot)(j);let s;if(j.length>0){const n=r+1;n===1?s=new D.$ct(c,o,c,o+u):s=new D.$ct(c,o,c+n-1,t+1)}else s=new D.$ct(c,o,c,o);return s}static _getInverseEditRanges(g){const j=[];let c=0,o=0,r=null;for(let u=0,t=g.length;u<t;u++){const s=g[u];let n,l;r?r.range.endLineNumber===s.range.startLineNumber?(n=c,l=o+(s.range.startColumn-r.range.endColumn)):(n=c+(s.range.startLineNumber-r.range.endLineNumber),l=s.range.startColumn):(n=s.range.startLineNumber,l=s.range.startColumn);let h;if(s.text.length>0){const $=s.eolCount+1;$===1?h=new D.$ct(n,l,n,l+s.firstLineLength):h=new D.$ct(n,l,n+$-1,s.lastLineLength+1)}else h=new D.$ct(n,l,n,l);c=h.endLineNumber,o=h.endColumn,j.push(h),r=s}return j}static u(g,j){const c=D.$ct.compareRangesUsingEnds(g.range,j.range);return c===0?g.sortIndex-j.sortIndex:c}static w(g,j){const c=D.$ct.compareRangesUsingEnds(g.range,j.range);return c===0?j.sortIndex-g.sortIndex:-c}}e.$DC=b}),define(ue[30],ce([0,1,3,9,29]),function(he,e,W,F,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$EC=void 0;class I{constructor(L,m,b,V,g,j,c,o,r){this.a=L,this.b=m,this.c=b,this.d=V,this.e=g,this.f=j,this.g=c,this.h=o,this.j=r}k(L){const m=this.c+this.d+this.e,b=this.c+this.e;return m===0?L===1?`
`:`\r
`:b>m/2?`\r
`:`
`}create(L){const m=this.k(L),b=this.a;if(this.j&&(m===`\r
`&&(this.c>0||this.d>0)||m===`
`&&(this.c>0||this.e>0)))for(let g=0,j=b.length;g<j;g++){const c=b[g].buffer.replace(/\r\n|\r|\n/g,m),o=(0,F.$yC)(c);b[g]=new F.$BC(c,o)}const V=new D.$DC(b,this.b,m,this.f,this.g,this.h,this.j);return{textBuffer:V,disposable:V}}getFirstLineText(L){return this.a[0].buffer.substr(0,L).split(/\r\n|\r|\n/)[0]}}class B{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(L){if(L.length===0)return;this.a.length===0&&W.$Jf(L)&&(this.b=W.$If,L=L.substr(1));const m=L.charCodeAt(L.length-1);m===13||m>=55296&&m<=56319?(this.m(L.substr(0,L.length-1),!1),this.c=!0,this.d=m):(this.m(L,!1),this.c=!1,this.d=m)}m(L,m){!m&&L.length===0||(this.c?this.n(String.fromCharCode(this.d)+L):this.n(L))}n(L){const m=(0,F.$zC)(this.e,L);this.a.push(new F.$BC(L,m.lineStarts)),this.f+=m.cr,this.g+=m.lf,this.h+=m.crlf,m.isBasicASCII||(this.l=!1,this.j||(this.j=W.$zf(L)),this.k||(this.k=W.$Cf(L)))}finish(L=!0){return this.o(),new I(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,L)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const L=this.a[this.a.length-1];L.buffer+=String.fromCharCode(this.d);const m=(0,F.$yC)(L.buffer);L.lineStarts=m,this.d===13&&this.f++}}}e.$EC=B}),define(ue[31],ce([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/contextkey",e)}),define(ue[34],ce([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/scanner",e)}),define(ue[35],ce([0,1,5,34]),function(he,e,W,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dj=e.TokenType=void 0;var D;(function(m){m[m.LParen=0]="LParen",m[m.RParen=1]="RParen",m[m.Neg=2]="Neg",m[m.Eq=3]="Eq",m[m.NotEq=4]="NotEq",m[m.Lt=5]="Lt",m[m.LtEq=6]="LtEq",m[m.Gt=7]="Gt",m[m.GtEq=8]="GtEq",m[m.RegexOp=9]="RegexOp",m[m.RegexStr=10]="RegexStr",m[m.True=11]="True",m[m.False=12]="False",m[m.In=13]="In",m[m.Not=14]="Not",m[m.And=15]="And",m[m.Or=16]="Or",m[m.Str=17]="Str",m[m.QuotedStr=18]="QuotedStr",m[m.Error=19]="Error",m[m.EOF=20]="EOF"})(D||(e.TokenType=D={}));function I(...m){switch(m.length){case 1:return(0,F.localize)(0,null,m[0]);case 2:return(0,F.localize)(1,null,m[0],m[1]);case 3:return(0,F.localize)(2,null,m[0],m[1],m[2]);default:return}}const B=(0,F.localize)(3,null),U=(0,F.localize)(4,null);class L{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,W.$8)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(b=>b.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(b){return this.c=b,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const V=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:V})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const V=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:V})}else this.h(126)?this.k(9):this.l(I("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(I("&&"));break;case 124:this.h(124)?this.k(16):this.l(I("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(b){return this.r()||this.c.charCodeAt(this.e)!==b?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(b){this.f.push({type:b,offset:this.d})}l(b){const V=this.d,g=this.c.substring(this.d,this.e),j={type:19,offset:this.d,lexeme:g};this.g.push({offset:V,lexeme:g,additionalInfo:b}),this.f.push(j)}n(){this.m.lastIndex=this.d;const b=this.m.exec(this.c);if(b){this.e=this.d+b[0].length;const V=this.c.substring(this.d,this.e),g=L.b.get(V);g?this.k(g):this.f.push({type:17,lexeme:V,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(B);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let b=this.e,V=!1,g=!1;for(;;){if(b>=this.c.length){this.e=b,this.l(U);return}const c=this.c.charCodeAt(b);if(V)V=!1;else if(c===47&&!g){b++;break}else c===91?g=!0:c===92?V=!0:c===93&&(g=!1);b++}for(;b<this.c.length&&L.a.has(this.c.charCodeAt(b));)b++;this.e=b;const j=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:j,offset:this.d})}r(){return this.e>=this.c.length}}e.$dj=L}),define(ue[36],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fi=void 0;class W{constructor(D,I=[],B=!1){this.ctor=D,this.staticArguments=I,this.supportsDelayedInstantiation=B}}e.$fi=W}),define(ue[37],ce([0,1,36]),function(he,e,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationType=void 0,e.$gs=I,e.$hs=B;const F=[];var D;(function(U){U[U.Eager=0]="Eager",U[U.Delayed=1]="Delayed"})(D||(e.InstantiationType=D={}));function I(U,L,m){L instanceof W.$fi||(L=new W.$fi(L,[],!!m)),F.push([U,L])}function B(){return F}}),define(ue[13],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hi=e._util=void 0,e.$ii=D,e.$ji=I;var W;(function(B){B.serviceIds=new Map,B.DI_TARGET="$di$target",B.DI_DEPENDENCIES="$di$dependencies";function U(L){return L[B.DI_DEPENDENCIES]||[]}B.getServiceDependencies=U})(W||(e._util=W={})),e.$hi=D("instantiationService");function F(B,U,L){U[W.DI_TARGET]===U?U[W.DI_DEPENDENCIES].push({id:B,index:L}):(U[W.DI_DEPENDENCIES]=[{id:B,index:L}],U[W.DI_TARGET]=U)}function D(B){if(W.serviceIds.has(B))return W.serviceIds.get(B);const U=function(L,m,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");F(U,L,b)};return U.toString=()=>B,W.serviceIds.set(B,U),U}function I(B){return B}}),define(ue[38],ce([0,1,2,3,35,13,31,5]),function(he,e,W,F,D,I,B,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Aj=e.$zj=e.$yj=e.$xj=e.$wj=e.$vj=e.$uj=e.$tj=e.$sj=e.$rj=e.$qj=e.$pj=e.$oj=e.$nj=e.$mj=e.$lj=e.$kj=e.$jj=e.$gj=e.$fj=e.ContextKeyExprType=void 0,e.$ej=m,e.$hj=$,e.$ij=v,e.$Bj=Q;const L=new Map;L.set("false",!1),L.set("true",!0),L.set("isMac",W.$j),L.set("isLinux",W.$k),L.set("isWindows",W.$i),L.set("isWeb",W.$o),L.set("isMacNative",W.$j&&!W.$o),L.set("isEdge",W.$H),L.set("isFirefox",W.$F),L.set("isChrome",W.$E),L.set("isSafari",W.$G);function m(O,i){if(L.get(O)!==void 0)throw(0,U.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");L.set(O,i)}const b=Object.prototype.hasOwnProperty;var V;(function(O){O[O.False=0]="False",O[O.True=1]="True",O[O.Defined=2]="Defined",O[O.Not=3]="Not",O[O.Equals=4]="Equals",O[O.NotEquals=5]="NotEquals",O[O.And=6]="And",O[O.Regex=7]="Regex",O[O.NotRegex=8]="NotRegex",O[O.Or=9]="Or",O[O.In=10]="In",O[O.NotIn=11]="NotIn",O[O.Greater=12]="Greater",O[O.GreaterEquals=13]="GreaterEquals",O[O.Smaller=14]="Smaller",O[O.SmallerEquals=15]="SmallerEquals"})(V||(e.ContextKeyExprType=V={}));const g={regexParsingWithErrorRecovery:!0},j=(0,B.localize)(0,null),c=(0,B.localize)(1,null),o=(0,B.localize)(2,null),r=(0,B.localize)(3,null),u=(0,B.localize)(4,null),t=(0,B.localize)(5,null),s=(0,B.localize)(6,null),n=(0,B.localize)(7,null);class l{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=g){this.k=i,this.d=new D.$dj,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:j,offset:0,lexeme:"",additionalInfo:c});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const f=this.l();if(!this.E()){const S=this.D(),k=S.type===17?t:void 0;throw this.h.push({message:u,offset:S.offset,lexeme:D.$dj.getLexeme(S),additionalInfo:k}),l.c}return f}catch(f){if(f!==l.c)throw f;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(16);){const f=this.o();i.push(f)}return i.length===1?i[0]:h.or(...i)}o(){const i=[this.s()];for(;this.y(15);){const f=this.s();i.push(f)}return i.length===1?i[0]:h.and(...i)}s(){if(this.y(2)){const i=this.D();switch(i.type){case 11:return this.z(),P.INSTANCE;case 12:return this.z(),a.INSTANCE;case 0:{this.z();const f=this.l();return this.A(1,r),f?.negate()}case 17:return this.z(),T.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case 11:return this.z(),h.true();case 12:return this.z(),h.false();case 0:{this.z();const f=this.l();return this.A(1,r),f}case 17:{const f=i.lexeme;if(this.z(),this.y(9)){const k=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),k.type!==10)throw this.B("REGEX",k);const se=k.lexeme,Z=se.lastIndexOf("/"),R=Z===se.length-1?void 0:this.w(se.substring(Z+1));let d;try{d=new RegExp(se.substring(1,Z),R)}catch{throw this.B("REGEX",k)}return oe.create(f,d)}switch(k.type){case 10:case 19:{const se=[k.lexeme];this.z();let Z=this.D(),R=0;for(let x=0;x<k.lexeme.length;x++)k.lexeme.charCodeAt(x)===40?R++:k.lexeme.charCodeAt(x)===41&&R--;for(;!this.E()&&Z.type!==15&&Z.type!==16;){switch(Z.type){case 0:R++;break;case 1:R--;break;case 10:case 18:for(let x=0;x<Z.lexeme.length;x++)Z.lexeme.charCodeAt(x)===40?R++:k.lexeme.charCodeAt(x)===41&&R--}if(R<0)break;se.push(D.$dj.getLexeme(Z)),this.z(),Z=this.D()}const d=se.join(""),y=d.lastIndexOf("/"),z=y===d.length-1?void 0:this.w(d.substring(y+1));let J;try{J=new RegExp(d.substring(1,y),z)}catch{throw this.B("REGEX",k)}return h.regex(f,J)}case 18:{const se=k.lexeme;this.z();let Z=null;if(!(0,F.$Ue)(se)){const R=se.indexOf("/"),d=se.lastIndexOf("/");if(R!==d&&R>=0){const y=se.slice(R+1,d),z=se[d+1]==="i"?"i":"";try{Z=new RegExp(y,z)}catch{throw this.B("REGEX",k)}}}if(Z===null)throw this.B("REGEX",k);return oe.create(f,Z)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,o);const k=this.u();return h.notIn(f,k)}switch(this.D().type){case 3:{this.z();const k=this.u();if(this.x().type===18)return h.equals(f,k);switch(k){case"true":return h.has(f);case"false":return h.not(f);default:return h.equals(f,k)}}case 4:{this.z();const k=this.u();if(this.x().type===18)return h.notEquals(f,k);switch(k){case"true":return h.not(f);case"false":return h.has(f);default:return h.notEquals(f,k)}}case 5:return this.z(),re.create(f,this.u());case 6:return this.z(),ne.create(f,this.u());case 7:return this.z(),ie.create(f,this.u());case 8:return this.z(),le.create(f,this.u());case 13:return this.z(),h.in(f,this.u());default:return h.has(f)}}case 20:throw this.h.push({message:s,offset:i.offset,lexeme:"",additionalInfo:n}),l.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case 17:case 18:return this.z(),i.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,f){if(this.C(i))return this.z();throw this.B(f,this.D())}B(i,f,S){const k=(0,B.localize)(8,null,i,D.$dj.getLexeme(f)),se=f.offset,Z=D.$dj.getLexeme(f);return this.h.push({message:k,offset:se,lexeme:Z,additionalInfo:S}),l.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$fj=l;class h{static false(){return P.INSTANCE}static true(){return a.INSTANCE}static has(i){return C.create(i)}static equals(i,f){return q.create(i,f)}static notEquals(i,f){return p.create(i,f)}static regex(i,f){return oe.create(i,f)}static in(i,f){return G.create(i,f)}static notIn(i,f){return A.create(i,f)}static not(i){return T.create(i)}static and(...i){return M.create(i,null,!0)}static or(...i){return K.create(i,null,!0)}static greater(i,f){return ie.create(i,f)}static greaterEquals(i,f){return le.create(i,f)}static smaller(i,f){return re.create(i,f)}static smallerEquals(i,f){return ne.create(i,f)}static{this.c=new l({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}e.$gj=h;function $(O){const i=new l({regexParsingWithErrorRecovery:!1});return O.map(f=>(i.parse(f),i.lexingErrors.length>0?i.lexingErrors.map(S=>({errorMessage:S.additionalInfo?(0,B.localize)(9,null,S.additionalInfo):(0,B.localize)(10,null),offset:S.offset,length:S.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map(S=>({errorMessage:S.additionalInfo?`${S.message}. ${S.additionalInfo}`:S.message,offset:S.offset,length:S.lexeme.length})):[]))}function v(O,i){const f=O?O.substituteConstants():void 0,S=i?i.substituteConstants():void 0;return!f&&!S?!0:!f||!S?!1:f.equals(S)}function E(O,i){return O.cmp(i)}class P{static{this.INSTANCE=new P}constructor(){this.type=0}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return a.INSTANCE}}e.$jj=P;class a{static{this.INSTANCE=new a}constructor(){this.type=1}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return P.INSTANCE}}e.$kj=a;class C{static create(i,f=null){const S=L.get(i);return typeof S=="boolean"?S?a.INSTANCE:P.INSTANCE:new C(i,f)}constructor(i,f){this.key=i,this.c=f,this.type=2}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=L.get(this.key);return typeof i=="boolean"?i?a.INSTANCE:P.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=T.create(this.key,this)),this.c}}e.$lj=C;class q{static create(i,f,S=null){if(typeof f=="boolean")return f?C.create(i,S):T.create(i,S);const k=L.get(i);return typeof k=="boolean"?f===(k?"true":"false")?a.INSTANCE:P.INSTANCE:new q(i,f,S)}constructor(i,f,S){this.c=i,this.d=f,this.f=S,this.type=4}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=L.get(this.c);if(typeof i=="boolean"){const f=i?"true":"false";return this.d===f?a.INSTANCE:P.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=p.create(this.c,this.d,this)),this.f}}e.$mj=q;class G{static create(i,f){return new G(i,f)}constructor(i,f){this.d=i,this.f=f,this.type=10,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:H(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const f=i.getValue(this.f),S=i.getValue(this.d);return Array.isArray(f)?f.includes(S):typeof S=="string"&&typeof f=="object"&&f!==null?b.call(f,S):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=A.create(this.d,this.f)),this.c}}e.$nj=G;class A{static create(i,f){return new A(i,f)}constructor(i,f){this.d=i,this.f=f,this.type=11,this.c=G.create(i,f)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$oj=A;class p{static create(i,f,S=null){if(typeof f=="boolean")return f?T.create(i,S):C.create(i,S);const k=L.get(i);return typeof k=="boolean"?f===(k?"true":"false")?P.INSTANCE:a.INSTANCE:new p(i,f,S)}constructor(i,f,S){this.c=i,this.d=f,this.f=S,this.type=5}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=L.get(this.c);if(typeof i=="boolean"){const f=i?"true":"false";return this.d===f?P.INSTANCE:a.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=q.create(this.c,this.d,this)),this.f}}e.$pj=p;class T{static create(i,f=null){const S=L.get(i);return typeof S=="boolean"?S?P.INSTANCE:a.INSTANCE:new T(i,f)}constructor(i,f){this.c=i,this.d=f,this.type=3}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=L.get(this.c);return typeof i=="boolean"?i?P.INSTANCE:a.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=C.create(this.c,this)),this.d}}e.$qj=T;function _(O,i){if(typeof O=="string"){const f=parseFloat(O);isNaN(f)||(O=f)}return typeof O=="string"||typeof O=="number"?i(O):P.INSTANCE}class ie{static create(i,f,S=null){return _(f,k=>new ie(i,k,S))}constructor(i,f,S){this.c=i,this.d=f,this.f=S,this.type=12}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=ne.create(this.c,this.d,this)),this.f}}e.$rj=ie;class le{static create(i,f,S=null){return _(f,k=>new le(i,k,S))}constructor(i,f,S){this.c=i,this.d=f,this.f=S,this.type=13}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=re.create(this.c,this.d,this)),this.f}}e.$sj=le;class re{static create(i,f,S=null){return _(f,k=>new re(i,k,S))}constructor(i,f,S){this.c=i,this.d=f,this.f=S,this.type=14}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=le.create(this.c,this.d,this)),this.f}}e.$tj=re;class ne{static create(i,f,S=null){return _(f,k=>new ne(i,k,S))}constructor(i,f,S){this.c=i,this.d=f,this.f=S,this.type=15}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=ie.create(this.c,this.d,this)),this.f}}e.$uj=ne;class oe{static create(i,f){return new oe(i,f)}constructor(i,f){this.d=i,this.f=f,this.type=7,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const f=this.f?this.f.source:"",S=i.f?i.f.source:"";return f<S?-1:f>S?1:0}equals(i){if(i.type===this.type){const f=this.f?this.f.source:"",S=i.f?i.f.source:"";return this.d===i.d&&f===S}return!1}substituteConstants(){return this}evaluate(i){const f=i.getValue(this.d);return this.f?this.f.test(f):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=w.create(this)),this.c}}e.$vj=oe;class w{static create(i){return new w(i)}constructor(i){this.c=i,this.type=8}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new w(this.c.map(i))}negate(){return this.c}}e.$wj=w;function ee(O){let i=null;for(let f=0,S=O.length;f<S;f++){const k=O[f].substituteConstants();if(O[f]!==k&&i===null){i=[];for(let se=0;se<f;se++)i[se]=O[se]}i!==null&&(i[f]=k)}return i===null?O:i}class M{static create(i,f,S){return M.d(i,f,S)}constructor(i,f){this.expr=i,this.c=f,this.type=6}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let f=0,S=this.expr.length;f<S;f++){const k=E(this.expr[f],i.expr[f]);if(k!==0)return k}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let f=0,S=this.expr.length;f<S;f++)if(!this.expr[f].equals(i.expr[f]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:M.create(i,this.c,!1)}evaluate(i){for(let f=0,S=this.expr.length;f<S;f++)if(!this.expr[f].evaluate(i))return!1;return!0}static d(i,f,S){const k=[];let se=!1;for(const Z of i)if(Z){if(Z.type===1){se=!0;continue}if(Z.type===0)return P.INSTANCE;if(Z.type===6){k.push(...Z.expr);continue}k.push(Z)}if(k.length===0&&se)return a.INSTANCE;if(k.length!==0){if(k.length===1)return k[0];k.sort(E);for(let Z=1;Z<k.length;Z++)k[Z-1].equals(k[Z])&&(k.splice(Z,1),Z--);if(k.length===1)return k[0];for(;k.length>1;){const Z=k[k.length-1];if(Z.type!==9)break;k.pop();const R=k.pop(),d=k.length===0,y=K.create(Z.expr.map(z=>M.create([z,R],null,S)),null,d);y&&(k.push(y),k.sort(E))}if(k.length===1)return k[0];if(S){for(let Z=0;Z<k.length;Z++)for(let R=Z+1;R<k.length;R++)if(k[Z].negate().equals(k[R]))return P.INSTANCE;if(k.length===1)return k[0]}return new M(k,f)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const f of this.expr)i.push(...f.keys());return i}map(i){return new M(this.expr.map(f=>f.map(i)),null)}negate(){if(!this.c){const i=[];for(const f of this.expr)i.push(f.negate());this.c=K.create(i,this,!0)}return this.c}}e.$xj=M;class K{static create(i,f,S){return K.d(i,f,S)}constructor(i,f){this.expr=i,this.c=f,this.type=9}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let f=0,S=this.expr.length;f<S;f++){const k=E(this.expr[f],i.expr[f]);if(k!==0)return k}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let f=0,S=this.expr.length;f<S;f++)if(!this.expr[f].equals(i.expr[f]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:K.create(i,this.c,!1)}evaluate(i){for(let f=0,S=this.expr.length;f<S;f++)if(this.expr[f].evaluate(i))return!0;return!1}static d(i,f,S){let k=[],se=!1;if(i){for(let Z=0,R=i.length;Z<R;Z++){const d=i[Z];if(d){if(d.type===0){se=!0;continue}if(d.type===1)return a.INSTANCE;if(d.type===9){k=k.concat(d.expr);continue}k.push(d)}}if(k.length===0&&se)return P.INSTANCE;k.sort(E)}if(k.length!==0){if(k.length===1)return k[0];for(let Z=1;Z<k.length;Z++)k[Z-1].equals(k[Z])&&(k.splice(Z,1),Z--);if(k.length===1)return k[0];if(S){for(let Z=0;Z<k.length;Z++)for(let R=Z+1;R<k.length;R++)if(k[Z].negate().equals(k[R]))return a.INSTANCE;if(k.length===1)return k[0]}return new K(k,f)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const f of this.expr)i.push(...f.keys());return i}map(i){return new K(this.expr.map(f=>f.map(i)),null)}negate(){if(!this.c){const i=[];for(const f of this.expr)i.push(f.negate());for(;i.length>1;){const f=i.shift(),S=i.shift(),k=[];for(const se of X(f))for(const Z of X(S))k.push(M.create([se,Z],null,!1));i.unshift(K.create(k,null,!1))}this.c=K.create(i,this,!0)}return this.c}}e.$yj=K;class N extends C{static{this.d=[]}static all(){return N.d.values()}constructor(i,f,S){super(i,null),this.f=f,typeof S=="object"?N.d.push({...S,key:i}):S!==!0&&N.d.push({key:i,description:S,type:f!=null?typeof f:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return q.create(this.key,i)}notEqualsTo(i){return p.create(this.key,i)}}e.$zj=N,e.$Aj=(0,I.$ii)("contextKeyService");function Y(O,i){return O<i?-1:O>i?1:0}function H(O,i,f,S){return O<f?-1:O>f?1:i<S?-1:i>S?1:0}function Q(O,i){if(O.type===0||i.type===1)return!0;if(O.type===9)return i.type===9?te(O.expr,i.expr):!1;if(i.type===9){for(const f of i.expr)if(Q(O,f))return!0;return!1}if(O.type===6){if(i.type===6)return te(i.expr,O.expr);for(const f of O.expr)if(Q(f,i))return!0;return!1}return O.equals(i)}function te(O,i){let f=0,S=0;for(;f<O.length&&S<i.length;){const k=O[f].cmp(i[S]);if(k<0)return!1;k===0&&f++,S++}return f===O.length}function X(O){return O.type===9?O.expr:[O]}}),define(ue[39],ce([0,1,6,26,7,37,13]),function(he,e,W,F,D,I,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9J=e.$6J=void 0,e.$7J=b,e.$8J=V,e.$6J=(0,B.$ii)("notebookDocumentService");const U=["W","X","Y","Z","a","b","c","d","e","f"],L=new RegExp(`^[${U.join("")}]+`),m=7;function b(j){if(j.scheme!==D.Schemas.vscodeNotebookCell)return;const c=j.fragment.indexOf("s");if(c<0)return;const o=parseInt(j.fragment.substring(0,c).replace(L,""),m),r=(0,W.$Ne)(j.fragment.substring(c+1)).toString();if(!isNaN(o))return{handle:o,notebook:j.with({scheme:r,fragment:null})}}function V(j,c){const o=c.toString(m),u=`${o.length<U.length?U[o.length-1]:"z"}${o}s${(0,W.$Oe)(W.$ue.fromString(j.scheme),!0,!0)}`;return j.with({scheme:D.Schemas.vscodeNotebookCell,fragment:u})}class g{constructor(){this.a=new F.$Bc}getNotebook(c){if(c.scheme===D.Schemas.vscodeNotebookCell){const o=b(c);if(o){const r=this.a.get(o.notebook);if(r)return r}}return this.a.get(c)}addNotebookDocument(c){this.a.set(c.uri,c)}removeNotebookDocument(c){this.a.delete(c.uri)}}e.$9J=g,(0,I.$gs)(e.$6J,g,1)}),define(ue[40],ce([0,1,6,25,45,21,7,4,2,38,39]),function(he,e,W,F,D,I,B,U,L,m,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qK=e.$nK=e.CellStatusbarAlignment=e.$mK=e.NotebookEditorPriority=e.$jK=e.$iK=e.$gK=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$fK=e.$eK=e.$dK=e.$cK=e.CellKind=e.$bK=e.$aK=e.$_J=void 0,e.$hK=$,e.$kK=E,e.$lK=P,e.$oK=q,e.$pK=A,e.$_J="workbench.editor.notebook",e.$aK="workbench.editor.notebookTextDiffEditor",e.$bK="workbench.editor.interactive";var V;(function(w){w[w.Markup=1]="Markup",w[w.Code=2]="Code"})(V||(e.CellKind=V={})),e.$cK=["application/json","application/javascript","text/html","image/svg+xml",I.$zs.latex,I.$zs.markdown,"image/png","image/jpeg",I.$zs.text],e.$dK=[I.$zs.latex,I.$zs.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",I.$zs.text],e.$eK=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$fK="_notAvailable";var g;(function(w){w[w.Running=1]="Running",w[w.Idle=2]="Idle"})(g||(e.NotebookRunState=g={}));var j;(function(w){w[w.Unconfirmed=1]="Unconfirmed",w[w.Pending=2]="Pending",w[w.Executing=3]="Executing"})(j||(e.NotebookCellExecutionState=j={}));var c;(function(w){w[w.Unconfirmed=1]="Unconfirmed",w[w.Pending=2]="Pending",w[w.Executing=3]="Executing"})(c||(e.NotebookExecutionState=c={}));var o;(function(w){w[w.WithHardKernelDependency=0]="WithHardKernelDependency",w[w.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",w[w.Pure=2]="Pure",w[w.Never=3]="Never"})(o||(e.NotebookRendererMatch=o={}));var r;(function(w){w.Always="always",w.Never="never",w.Optional="optional"})(r||(e.RendererMessagingSpec=r={}));var u;(function(w){w[w.ModelChange=1]="ModelChange",w[w.Move=2]="Move",w[w.ChangeCellLanguage=5]="ChangeCellLanguage",w[w.Initialize=6]="Initialize",w[w.ChangeCellMetadata=7]="ChangeCellMetadata",w[w.Output=8]="Output",w[w.OutputItem=9]="OutputItem",w[w.ChangeCellContent=10]="ChangeCellContent",w[w.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",w[w.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",w[w.ChangeCellMime=13]="ChangeCellMime",w[w.Unknown=100]="Unknown"})(u||(e.NotebookCellsChangeType=u={}));var t;(function(w){w[w.Handle=0]="Handle",w[w.Index=1]="Index"})(t||(e.SelectionStateType=t={}));var s;(function(w){w[w.Replace=1]="Replace",w[w.Output=2]="Output",w[w.Metadata=3]="Metadata",w[w.CellLanguage=4]="CellLanguage",w[w.DocumentMetadata=5]="DocumentMetadata",w[w.Move=6]="Move",w[w.OutputItems=7]="OutputItems",w[w.PartialMetadata=8]="PartialMetadata",w[w.PartialInternalMetadata=9]="PartialInternalMetadata"})(s||(e.CellEditType=s={}));var n;(function(w){w.scheme=B.Schemas.vscodeNotebookCell;function ee(Q,te){return(0,b.$8J)(Q,te)}w.generate=ee;function M(Q){return(0,b.$7J)(Q)}w.parse=M;function K(Q,te){return Q.with({scheme:B.Schemas.vscodeNotebookCellOutput,fragment:`op${te??""},${Q.scheme!==B.Schemas.file?Q.scheme:""}`})}w.generateCellOutputUri=K;function N(Q){if(Q.scheme!==B.Schemas.vscodeNotebookCellOutput)return;const te=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(Q.fragment);if(!te)return;const X=te[1]&&te[1]!==""?te[1]:void 0,O=te[2];return{outputId:X,notebook:Q.with({scheme:O||B.Schemas.file,fragment:null})}}w.parseCellOutputUri=N;function Y(Q,te,X){return w.generate(Q,te).with({scheme:X})}w.generateCellPropertyUri=Y;function H(Q,te){if(Q.scheme===te)return w.parse(Q.with({scheme:w.scheme}))}w.parseCellPropertyUri=H})(n||(e.CellUri=n={}));const l=w=>L.$i?w.replace(/\//g,"\\"):w;class h{constructor(ee=[],M=e.$cK){this.e=M,this.d=[...new Set(ee)].map(K=>({pattern:K,matches:F.$ck(l(K))}))}sort(ee){const M=new Map(D.Iterable.map(ee,N=>[N,l(N)]));let K=[];for(const{matches:N}of this.d)for(const[Y,H]of M)if(N(H)){K.push(Y),M.delete(Y);break}return M.size&&(K=K.concat([...M.keys()].sort((N,Y)=>this.e.indexOf(N)-this.e.indexOf(Y)))),K}prioritize(ee,M){const K=this.f(ee);if(K===-1){this.d.unshift({pattern:ee,matches:F.$ck(l(ee))});return}const N=new Set(M.map(H=>this.f(H,K)));N.delete(-1);const Y=Array.from(N).sort();this.d.splice(K+1,0,...Y.map(H=>this.d[H]));for(let H=Y.length-1;H>=0;H--)this.d.splice(Y[H],1)}toArray(){return this.d.map(ee=>ee.pattern)}f(ee,M=this.d.length){const K=l(ee);for(let N=0;N<M;N++)if(this.d[N].matches(K))return N;return-1}}e.$gK=h;function $(w,ee,M,K=(N,Y)=>N===Y){const N=[];function Y(te,X,O){if(X===0&&O.length===0)return;const i=N[N.length-1];i&&i.start+i.deleteCount===te?(i.deleteCount+=X,i.toInsert.push(...O)):N.push({start:te,deleteCount:X,toInsert:O})}let H=0,Q=0;for(;;){if(H===w.length){Y(H,0,ee.slice(Q));break}if(Q===ee.length){Y(H,w.length-H,[]);break}const te=w[H],X=ee[Q];if(K(te,X)){H+=1,Q+=1;continue}M(X)?(Y(H,1,[]),H+=1):(Y(H,0,[X]),Q+=1)}return N}e.$iK=new m.$zj("notebookEditorCursorAtBoundary","none"),e.$jK=new m.$zj("notebookEditorCursorAtLineBoundary","none");var v;(function(w){w.default="default",w.option="option"})(v||(e.NotebookEditorPriority=v={}));function E(w){const ee=w;return!!((typeof ee.include=="string"||F.$dk(ee.include))&&(typeof ee.exclude=="string"||F.$dk(ee.exclude)))}function P(w,ee,M){if(Array.isArray(w.viewType)&&w.viewType.indexOf(ee)>=0||w.viewType===ee)return!0;if(w.filenamePattern){const K=E(w.filenamePattern)?w.filenamePattern.include:w.filenamePattern,N=E(w.filenamePattern)?w.filenamePattern.exclude:void 0;if(F.$bk(K,(0,U.$oc)(M.fsPath).toLowerCase()))return!(N&&F.$bk(N,(0,U.$oc)(M.fsPath).toLowerCase()))}return!1}e.$mK={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScrollEnabled:"notebook.stickyScroll.enabled",stickyScrollMode:"notebook.stickyScroll.mode",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",LinkifyOutputFilePaths:"notebook.output.linkifyFilePaths",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",outlineShowMarkdownHeadersOnly:"notebook.outline.showMarkdownHeadersOnly",outlineShowCodeCells:"notebook.outline.showCodeCells",outlineShowCodeCellSymbols:"notebook.outline.showCodeCellSymbols",breadcrumbsShowCodeCells:"notebook.breadcrumbs.showCodeCells",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell",cellChat:"notebook.experimental.cellChat",notebookVariablesView:"notebook.experimental.variablesView",InteractiveWindowPromptToSave:"interactiveWindow.promptToSaveOnClose",cellFailureDiagnostics:"notebook.cellFailureDiagnostics"};var a;(function(w){w[w.Left=1]="Left",w[w.Right=2]="Right"})(a||(e.CellStatusbarAlignment=a={}));class C{static{this.d="notebook/"}static create(ee){return`${C.d}${ee}`}static parse(ee){if(ee.startsWith(C.d))return ee.substring(C.d.length)}}e.$nK=C;function q(w){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(w)}const G=new TextDecoder;function A(w){const ee=[];let M=!1;for(const H of w)(ee.length===0||M)&&(ee.push(H),M=!0);let K=_(ee);const N=W.$ue.concat(ee.map(H=>W.$ue.wrap(H))),Y=oe(N);return K=K||Y.byteLength!==N.byteLength,{data:Y,didCompression:K}}e.$qK="\x1B[A";const p=e.$qK.split("").map(w=>w.charCodeAt(0)),T=10;function _(w){let ee=!1;return w.forEach((M,K)=>{if(K===0||M.length<e.$qK.length)return;const N=w[K-1],Y=M.subarray(0,e.$qK.length);if(Y[0]===p[0]&&Y[1]===p[1]&&Y[2]===p[2]){const H=N.lastIndexOf(T);if(H===-1)return;ee=!0,w[K-1]=N.subarray(0,H),w[K]=M.subarray(e.$qK.length)}}),ee}function ie(w){let ee=w;do w=ee,ee=w.replace(/[^\n]\x08/gm,"");while(ee.length<w.length);return w}function le(w){for(w=w.replace(/\r+\n/gm,`
`);w.search(/\r[^$]/g)>-1;){const ee=w.match(/^(.*)\r+/m)[1];let M=w.match(/\r+(.*)$/m)[1];M=M+ee.slice(M.length,ee.length),w=w.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,M)}return w}const re=8,ne=13;function oe(w){return!w.buffer.includes(re)&&!w.buffer.includes(ne)?w:W.$ue.fromString(le(ie(G.decode(w.buffer))))}}),define(ue[46],ce([0,1,47,48,12,30,40,10,20]),function(he,e,W,F,D,I,B,U,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotebookEditorSimpleWorker=void 0,e.create=c;function m(o){let r=(0,F.$$i)(104579,0);for(let u=0;u<o.buffer.length;u++)r=(0,F.$0i)(o.buffer[u],r);return r}class b{get textBuffer(){if(this.a)return this.a;const r=new I.$EC;r.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const u=r.finish(!0);return this.a=u.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,F.$9i)(this.getValue())),this.b}constructor(r,u,t,s,n,l,h){this.handle=r,this.d=u,this.language=t,this.cellKind=s,this.outputs=n,this.metadata=l,this.internalMetadata=h,this.b=null,this.c=null}getFullModelRange(){const r=this.textBuffer.getLineCount();return new U.$ct(1,1,r,this.textBuffer.getLineLength(r)+1)}getValue(){const r=this.getFullModelRange();return this.textBuffer.getValueInRange(r,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,F.$9i)([(0,F.$9i)(this.language),(0,F.$9i)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(r=>({outputs:r.outputs.map(u=>({mime:u.mime,data:m(u.data)})),metadata:r.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,F.$9i)([(0,F.$9i)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class V{constructor(r,u,t){this.uri=r,this.cells=u,this.metadata=t}acceptModelChanged(r){r.rawEvents.forEach(u=>{if(u.kind===B.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(u.changes);else if(u.kind===B.NotebookCellsChangeType.Move){const t=this.cells.splice(u.index,1);this.cells.splice(u.newIdx,0,...t)}else if(u.kind===B.NotebookCellsChangeType.Output){const t=this.cells[u.index];t.outputs=u.outputs}else if(u.kind===B.NotebookCellsChangeType.ChangeCellLanguage){this.a(u.index);const t=this.cells[u.index];t.language=u.language}else if(u.kind===B.NotebookCellsChangeType.ChangeCellMetadata){this.a(u.index);const t=this.cells[u.index];t.metadata=u.metadata}else if(u.kind===B.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(u.index);const t=this.cells[u.index];t.internalMetadata=u.internalMetadata}})}a(r){if(r<0||r>=this.cells.length)throw new Error(`Illegal index ${r}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(r){r.reverse().forEach(u=>{const s=u[2].map(n=>new b(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata));this.cells.splice(u[0],u[1],...s)})}}class g{constructor(r){this.textModel=r}getElements(){const r=new Int32Array(this.textModel.cells.length);for(let u=0;u<this.textModel.cells.length;u++)r[u]=this.textModel.cells[u].getComparisonValue();return r}getCellHash(r){const u=Array.isArray(r.source)?r.source.join(`
`):r.source;return(0,F.$9i)([(0,F.$9i)(u),r.metadata])}}class j{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(r,u){this.a[r]=new V(D.URI.parse(r),u.cells.map(t=>new b(t.handle,t.source,t.language,t.cellKind,t.outputs,t.metadata)),u.metadata)}acceptModelChanged(r,u){this.a[r]?.acceptModelChanged(u)}acceptRemovedModel(r){this.a[r]&&delete this.a[r]}computeDiff(r,u){const t=this.b(r),s=this.b(u);return{cellsDiff:new W.$it(new g(t),new g(s)).ComputeDiff(!1)}}canPromptRecommendation(r){const t=this.b(r).cells;for(let s=0;s<t.length;s++){const n=t[s];if(n.cellKind===B.CellKind.Markup||n.language!=="python")continue;const l=n.textBuffer.getLineCount(),h=Math.min(l,20),$=new U.$ct(1,1,h,n.textBuffer.getLineLength(h)+1),E=new L.$sC("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!E)continue;if(n.textBuffer.findMatchesLineByLine($,E,!0,1).length>0)return!0}return!1}b(r){return this.a[r]}}e.NotebookEditorSimpleWorker=j;function c(o){return new j}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/e170252f762678dec6ca2cc69aba1570769a5d39/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
