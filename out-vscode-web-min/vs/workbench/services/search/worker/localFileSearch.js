/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ue=["require","exports","vs/base/common/path","vs/base/common/platform","vs/base/common/strings","vs/base/common/extpath","vs/base/common/uri","vs/base/common/resources","vs/base/common/async","vs/base/common/glob","vs/base/common/symbols","vs/base/common/network","vs/base/common/errors","vs/base/common/cancellation","vs/workbench/services/search/common/getFileResults","vs/workbench/services/search/common/ignoreFile","vs/base/common/types","vs/base/common/event","vs/base/common/lifecycle","vs/base/common/lazy","vs/base/common/arrays","vs/base/common/map","vs/editor/common/core/range","vs/workbench/services/search/worker/localFileSearch"],ae=function(re){for(var e=[],j=0,A=re.length;j<A;j++)e[j]=ue[re[j]];return e};define(ue[10],ae([0,1]),function(re,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4d=void 0,e.$4d=Symbol("MicrotaskDelay")}),define(ue[5],ae([0,1,2,3,4,16]),function(re,e,j,A,I,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bg=m,e.$cg=y,e.$dg=B,e.$eg=V,e.$fg=H,e.$gg=n,e.$hg=r,e.$ig=a,e.$jg=L,e.$kg=U,e.$lg=$,e.$mg=M,e.$ng=p,e.$og=b,e.$pg=F,e.$qg=_;function m(s){return s===47||s===92}function y(s){return s.replace(/[\\/]/g,j.$hc.sep)}function B(s){return s.indexOf("/")===-1&&(s=y(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function V(s,h=j.$hc.sep){if(!s)return"";const E=s.length,D=s.charCodeAt(0);if(m(D)){if(m(s.charCodeAt(1))&&!m(s.charCodeAt(2))){let W=3;const X=W;for(;W<E&&!m(s.charCodeAt(W));W++);if(X!==W&&!m(s.charCodeAt(W+1))){for(W+=1;W<E;W++)if(m(s.charCodeAt(W)))return s.slice(0,W+1).replace(/[\\/]/g,h)}}return h}else if(L(D)&&s.charCodeAt(1)===58)return m(s.charCodeAt(2))?s.slice(0,2)+h:s.slice(0,2);let Q=s.indexOf("://");if(Q!==-1){for(Q+=3;Q<E;Q++)if(m(s.charCodeAt(Q)))return s.slice(0,Q+1)}return""}function H(s){if(!A.$i||!s||s.length<5)return!1;let h=s.charCodeAt(0);if(h!==92||(h=s.charCodeAt(1),h!==92))return!1;let E=2;const D=E;for(;E<s.length&&(h=s.charCodeAt(E),h!==92);E++);return!(D===E||(h=s.charCodeAt(E+1),isNaN(h)||h===92))}const Z=/[\\/:\*\?"<>\|]/g,J=/[\\/]/g,S=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function n(s,h=A.$i){const E=h?Z:J;return!(!s||s.length===0||/^\s+$/.test(s)||(E.lastIndex=0,E.test(s))||h&&S.test(s)||s==="."||s===".."||h&&s[s.length-1]==="."||h&&s.length!==s.trim().length||s.length>255)}function r(s,h,E){const D=s===h;return!E||D?D:!s||!h?!1:(0,I.$lf)(s,h)}function a(s,h,E,D=j.sep){if(s===h)return!0;if(!s||!h||h.length>s.length)return!1;if(E){if(!(0,I.$mf)(s,h))return!1;if(h.length===s.length)return!0;let W=h.length;return h.charAt(h.length-1)===D&&W--,s.charAt(W)===D}return h.charAt(h.length-1)!==D&&(h+=D),s.indexOf(h)===0}function L(s){return s>=65&&s<=90||s>=97&&s<=122}function U(s,h){return A.$i&&s.endsWith(":")&&(s+=j.sep),(0,j.$jc)(s)||(s=(0,j.$kc)(h,s)),s=(0,j.$ic)(s),A.$i?(s=(0,I.$6e)(s,j.sep),s.endsWith(":")&&(s+=j.sep)):(s=(0,I.$6e)(s,j.sep),s||(s=j.sep)),s}function $(s){const h=(0,j.$ic)(s);return A.$i?s.length>3?!1:M(h)&&(s.length===2||h.charCodeAt(2)===92):h===j.$hc.sep}function M(s,h=A.$i){return h?L(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}function p(s,h=A.$i){return M(s,h)?s[0]:void 0}function b(s,h,E){return h.length>s.length?-1:s===h?0:(E&&(s=s.toLowerCase(),h=h.toLowerCase()),s.indexOf(h))}function F(s){const h=s.split(":");let E,D,Q;for(const W of h){const X=Number(W);(0,w.$Zf)(X)?D===void 0?D=X:Q===void 0&&(Q=X):E=E?[E,W].join(":"):W}if(!E)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:E,line:D!==void 0?D:void 0,column:Q!==void 0?Q:D!==void 0?1:void 0}}const T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",G="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function _(s,h,E=8){let D="";for(let W=0;W<E;W++){let X;W===0&&A.$i&&!h&&(E===3||E===4)?X=G:X=T,D+=X.charAt(Math.floor(Math.random()*X.length))}let Q;return h?Q=`${h}-${D}`:Q=D,s?(0,j.$kc)(s,Q):Q}}),define(ue[11],ae([0,1,12,3,4,6,2]),function(re,e,j,A,I,w,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$vg=e.$ug=e.$tg=e.Schemas=void 0,e.$rg=B,e.$sg=V,e.$wg=Z;var y;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.codeSetting="code-setting"})(y||(e.Schemas=y={}));function B(n,r){return w.URI.isUri(n)?(0,I.$lf)(n.scheme,r):(0,I.$mf)(n,r+":")}function V(n,...r){return r.some(a=>B(n,a))}e.$tg="vscode-tkn",e.$ug="tkn";class H{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(r){this.d=r}setDelegate(r){this.e=r}setServerRootPath(r,a){this.f=Z(r,a)}getServerRootPath(){return this.f}get g(){return m.$hc.join(this.f,y.vscodeRemoteResource)}set(r,a,L){this.a[r]=a,this.b[r]=L}setConnectionToken(r,a){this.c[r]=a}getPreferredWebSchema(){return this.d}rewrite(r){if(this.e)try{return this.e(r)}catch(p){return j.$1(p),r}const a=r.authority;let L=this.a[a];L&&L.indexOf(":")!==-1&&L.indexOf("[")===-1&&(L=`[${L}]`);const U=this.b[a],$=this.c[a];let M=`path=${encodeURIComponent(r.path)}`;return typeof $=="string"&&(M+=`&${e.$ug}=${encodeURIComponent($)}`),w.URI.from({scheme:A.$o?this.d:y.vscodeRemoteResource,authority:`${L}:${U}`,path:this.g,query:M})}}e.$vg=new H;function Z(n,r){return m.$hc.join(r??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}e.$xg="vs/../../extensions",e.$yg="vs/../../node_modules",e.$zg="vs/../../node_modules.asar",e.$Ag="vs/../../node_modules.asar.unpacked",e.$Bg="vscode-app";class J{static{this.a=e.$Bg}asBrowserUri(r){const a=this.b(r,re);return this.uriToBrowserUri(a)}uriToBrowserUri(r){return r.scheme===y.vscodeRemote?e.$vg.rewrite(r):r.scheme===y.file&&(A.$m||A.$q===`${y.vscodeFileResource}://${J.a}`)?r.with({scheme:y.vscodeFileResource,authority:r.authority||J.a,query:null,fragment:null}):r}asFileUri(r){const a=this.b(r,re);return this.uriToFileUri(a)}uriToFileUri(r){return r.scheme===y.vscodeFileResource?r.with({scheme:y.file,authority:r.authority!==J.a?r.authority:null,query:null,fragment:null}):r}b(r,a){return w.URI.isUri(r)?r:w.URI.parse(a.toUrl(r))}}e.$Cg=new J;var S;(function(n){const r=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(r.get("3"));const a="vscode-coi";function L($){let M;typeof $=="string"?M=new URL($).searchParams:$ instanceof URL?M=$.searchParams:w.URI.isUri($)&&(M=new URL($.toString(!0)).searchParams);const p=M?.get(a);if(p)return r.get(p)}n.getHeadersFromQuery=L;function U($,M,p){if(!globalThis.crossOriginIsolated)return;const b=M&&p?"3":p?"2":"1";$ instanceof URLSearchParams?$.set(a,b):$[a]=b}n.addSearchParam=U})(S||(e.COI=S={}))}),define(ue[7],ae([0,1,5,11,2,3,4,6]),function(re,e,j,A,I,w,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$4g=e.$3g=e.$2g=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=e.$Tg=e.$Sg=e.$Rg=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=void 0,e.$Jg=B,e.$5g=H,e.$6g=J;function B(S){return(0,y.$xc)(S,!0)}class V{constructor(n){this.a=n}compare(n,r,a=!1){return n===r?0:(0,m.$ef)(this.getComparisonKey(n,a),this.getComparisonKey(r,a))}isEqual(n,r,a=!1){return n===r?!0:!n||!r?!1:this.getComparisonKey(n,a)===this.getComparisonKey(r,a)}getComparisonKey(n,r=!1){return n.with({path:this.a(n)?n.path.toLowerCase():void 0,fragment:r?null:void 0}).toString()}ignorePathCasing(n){return this.a(n)}isEqualOrParent(n,r,a=!1){if(n.scheme===r.scheme){if(n.scheme===A.Schemas.file)return j.$ig(B(n),B(r),this.a(n))&&n.query===r.query&&(a||n.fragment===r.fragment);if((0,e.$1g)(n.authority,r.authority))return j.$ig(n.path,r.path,this.a(n),"/")&&n.query===r.query&&(a||n.fragment===r.fragment)}return!1}joinPath(n,...r){return y.URI.joinPath(n,...r)}basenameOrAuthority(n){return(0,e.$Sg)(n)||n.authority}basename(n){return I.$hc.basename(n.path)}extname(n){return I.$hc.extname(n.path)}dirname(n){if(n.path.length===0)return n;let r;return n.scheme===A.Schemas.file?r=y.URI.file(I.$nc(B(n))).path:(r=I.$hc.dirname(n.path),n.authority&&r.length&&r.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),r="/")),n.with({path:r})}normalizePath(n){if(!n.path.length)return n;let r;return n.scheme===A.Schemas.file?r=y.URI.file(I.$ic(B(n))).path:r=I.$hc.normalize(n.path),n.with({path:r})}relativePath(n,r){if(n.scheme!==r.scheme||!(0,e.$1g)(n.authority,r.authority))return;if(n.scheme===A.Schemas.file){const U=I.$mc(B(n),B(r));return w.$i?j.$cg(U):U}let a=n.path||"/";const L=r.path||"/";if(this.a(n)){let U=0;for(const $=Math.min(a.length,L.length);U<$&&!(a.charCodeAt(U)!==L.charCodeAt(U)&&a.charAt(U).toLowerCase()!==L.charAt(U).toLowerCase());U++);a=L.substr(0,U)+a.substr(U)}return I.$hc.relative(a,L)}resolvePath(n,r){if(n.scheme===A.Schemas.file){const a=y.URI.file(I.$lc(B(n),r));return n.with({authority:a.authority,path:a.path})}return r=j.$dg(r),n.with({path:I.$hc.resolve(n.path,r)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,r){return n===r||n!==void 0&&r!==void 0&&(0,m.$lf)(n,r)}hasTrailingPathSeparator(n,r=I.sep){if(n.scheme===A.Schemas.file){const a=B(n);return a.length>j.$eg(a).length&&a[a.length-1]===r}else{const a=n.path;return a.length>1&&a.charCodeAt(a.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,r=I.sep){return(0,e.$2g)(n,r)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,r=I.sep){let a=!1;if(n.scheme===A.Schemas.file){const L=B(n);a=L!==void 0&&L.length===j.$eg(L).length&&L[L.length-1]===r}else{r="/";const L=n.path;a=L.length===1&&L.charCodeAt(L.length-1)===47}return!a&&!(0,e.$2g)(n,r)?n.with({path:n.path+"/"}):n}}e.$Kg=V,e.$Lg=new V(()=>!1),e.$Mg=new V(S=>S.scheme===A.Schemas.file?!w.$k:!0),e.$Ng=new V(S=>!0),e.$Og=e.$Lg.isEqual.bind(e.$Lg),e.$Pg=e.$Lg.isEqualOrParent.bind(e.$Lg),e.$Qg=e.$Lg.getComparisonKey.bind(e.$Lg),e.$Rg=e.$Lg.basenameOrAuthority.bind(e.$Lg),e.$Sg=e.$Lg.basename.bind(e.$Lg),e.$Tg=e.$Lg.extname.bind(e.$Lg),e.$Ug=e.$Lg.dirname.bind(e.$Lg),e.$Vg=e.$Lg.joinPath.bind(e.$Lg),e.$Wg=e.$Lg.normalizePath.bind(e.$Lg),e.$Xg=e.$Lg.relativePath.bind(e.$Lg),e.$Yg=e.$Lg.resolvePath.bind(e.$Lg),e.$Zg=e.$Lg.isAbsolutePath.bind(e.$Lg),e.$1g=e.$Lg.isEqualAuthority.bind(e.$Lg),e.$2g=e.$Lg.hasTrailingPathSeparator.bind(e.$Lg),e.$3g=e.$Lg.removeTrailingPathSeparator.bind(e.$Lg),e.$4g=e.$Lg.addTrailingPathSeparator.bind(e.$Lg);function H(S,n){const r=[];for(let a=0;a<S.length;a++){const L=n(S[a]);S.some((U,$)=>$===a?!1:(0,e.$Pg)(L,n(U)))||r.push(S[a])}return r}var Z;(function(S){S.META_DATA_LABEL="label",S.META_DATA_DESCRIPTION="description",S.META_DATA_SIZE="size",S.META_DATA_MIME="mime";function n(r){const a=new Map;r.path.substring(r.path.indexOf(";")+1,r.path.lastIndexOf(";")).split(";").forEach($=>{const[M,p]=$.split(":");M&&p&&a.set(M,p)});const U=r.path.substring(0,r.path.indexOf(";"));return U&&a.set(S.META_DATA_MIME,U),a}S.parseMetaData=n})(Z||(e.DataUri=Z={}));function J(S,n,r){if(n){let a=S.path;return a&&a[0]!==I.$hc.sep&&(a=I.$hc.sep+a),S.with({scheme:r,authority:n,path:a})}return S.with({scheme:r})}}),define(ue[8],ae([0,1,13,12,17,18,7,3,10,19]),function(re,e,j,A,I,w,m,y,B,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lh=e.$Jh=e.$Ih=e.$Hh=e.$Gh=e.Promises=e.$Fh=e.$Eh=e.$Dh=e.$Bh=e.$Ah=e.$zh=e.$yh=e.$xh=e.$wh=e.$vh=e.$uh=e.$th=e.$sh=e.$rh=e.$qh=e.$ph=e.$oh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=void 0,e.$7g=H,e.$8g=Z,e.$9g=J,e.$0g=S,e.$$g=n,e.$_g=r,e.$ah=a,e.$bh=L,e.$jh=s,e.$kh=h,e.$lh=E,e.$mh=D,e.$nh=Q,e.$Ch=o,e.$Kh=se;function H(c){return!!c&&typeof c.then=="function"}function Z(c){const t=new j.$ee,i=c(t.token),l=new Promise((f,C)=>{const ee=t.token.onCancellationRequested(()=>{ee.dispose(),C(new A.$5)});Promise.resolve(i).then(ne=>{ee.dispose(),t.dispose(),f(ne)},ne=>{ee.dispose(),t.dispose(),C(ne)})});return new class{cancel(){t.cancel(),t.dispose()}then(f,C){return l.then(f,C)}catch(f){return this.then(void 0,f)}finally(f){return l.finally(f)}}}function J(c,t,i){return new Promise((l,f)=>{const C=t.onCancellationRequested(()=>{C.dispose(),l(i)});c.then(l,f).finally(()=>C.dispose())})}function S(c,t){return new Promise((i,l)=>{const f=t.onCancellationRequested(()=>{f.dispose(),l(new A.$5)});c.then(i,l).finally(()=>f.dispose())})}async function n(c){let t=-1;const i=c.map((l,f)=>l.then(C=>(t=f,C)));try{return await Promise.race(i)}finally{c.forEach((l,f)=>{f!==t&&l.cancel()})}}function r(c,t,i){let l;const f=setTimeout(()=>{l?.(void 0),i?.()},t);return Promise.race([c.finally(()=>clearTimeout(f)),new Promise(C=>l=C)])}function a(c){return new Promise((t,i)=>{const l=c();H(l)?l.then(t,i):t(l)})}function L(){let c,t;return{promise:new Promise((l,f)=>{c=l,t=f}),resolve:c,reject:t}}class U{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(t){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=t,!this.b){const i=()=>{if(this.b=null,this.f)return;const l=this.queue(this.d);return this.d=null,l};this.b=new Promise(l=>{this.a.then(i,i).then(l)})}return new Promise((i,l)=>{this.b.then(i,l)})}return this.a=t(),new Promise((i,l)=>{this.a.then(f=>{this.a=null,i(f)},f=>{this.a=null,l(f)})})}dispose(){this.f=!0}}e.$ch=U;class ${constructor(){this.a=Promise.resolve(null)}queue(t){return this.a=this.a.then(()=>t(),()=>t())}}e.$dh=$;class M{constructor(){this.a=new Map}queue(t,i){const f=(this.a.get(t)??Promise.resolve()).catch(()=>{}).then(i).finally(()=>{this.a.get(t)===f&&this.a.delete(t)});return this.a.set(t,f),f}}e.$eh=M;const p=(c,t)=>{let i=!0;const l=setTimeout(()=>{i=!1,t()},c);return{isTriggered:()=>i,dispose:()=>{clearTimeout(l),i=!1}}},b=c=>{let t=!0;return queueMicrotask(()=>{t&&(t=!1,c())}),{isTriggered:()=>t,dispose:()=>{t=!1}}};class F{constructor(t){this.defaultDelay=t,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(t,i=this.defaultDelay){this.g=t,this.h(),this.b||(this.b=new Promise((f,C)=>{this.d=f,this.f=C}).then(()=>{if(this.b=null,this.d=null,this.g){const f=this.g;return this.g=null,f()}}));const l=()=>{this.a=null,this.d?.(null)};return this.a=i===B.$4d?b(l):p(i,l),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new A.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$fh=F;class T{constructor(t){this.a=new F(t),this.b=new U}trigger(t,i){return this.a.trigger(()=>this.b.queue(t),i)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$gh=T;class G{constructor(){this.a=!1,this.b=new Promise((t,i)=>{this.d=t})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$hh=G;class _ extends G{constructor(t){super(),this.f=setTimeout(()=>this.open(),t)}open(){clearTimeout(this.f),super.open()}}e.$ih=_;function s(c,t){return t?new Promise((i,l)=>{const f=setTimeout(()=>{C.dispose(),i()},c),C=t.onCancellationRequested(()=>{clearTimeout(f),C.dispose(),l(new A.$5)})}):Z(i=>s(c,i))}function h(c,t=0,i){const l=setTimeout(()=>{c(),i&&f.dispose()},t),f=(0,w.$Sc)(()=>{clearTimeout(l),i?.deleteAndLeak(f)});return i?.add(f),f}function E(c){const t=[];let i=0;const l=c.length;function f(){return i<l?c[i++]():null}function C(ee){ee!=null&&t.push(ee);const ne=f();return ne?ne.then(C):Promise.resolve(t)}return Promise.resolve(null).then(C)}function D(c,t=l=>!!l,i=null){let l=0;const f=c.length,C=()=>{if(l>=f)return Promise.resolve(i);const ee=c[l++];return Promise.resolve(ee()).then(de=>t(de)?Promise.resolve(de):C())};return C()}function Q(c,t=l=>!!l,i=null){if(c.length===0)return Promise.resolve(i);let l=c.length;const f=()=>{l=-1;for(const C of c)C.cancel?.()};return new Promise((C,ee)=>{for(const ne of c)ne.then(de=>{--l>=0&&t(de)?(f(),C(de)):l===0&&C(i)}).catch(de=>{--l>=0&&(f(),ee(de))})})}class W{constructor(t){this.a=0,this.b=!1,this.f=t,this.g=[],this.d=0,this.h=new I.$7d}whenIdle(){return this.size>0?I.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(t){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((i,l)=>{this.g.push({factory:t,c:i,e:l}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const t=this.g.shift();this.d++;const i=t.factory();i.then(t.c,t.e),i.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$oh=W;class X extends W{constructor(){super(1)}}e.$ph=X;class oe{constructor(){this.a=new v,this.b=0}queue(t){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,t())):this.a.run(this.b++,t())}}e.$qh=oe;class le{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const t=new N;return this.b.add(t),t.p}g(){for(const[,t]of this.a)if(t.size>0)return!1;return!0}queueSize(t,i=m.$Lg){const l=i.getComparisonKey(t);return this.a.get(l)?.size??0}queueFor(t,i,l=m.$Lg){const f=l.getComparisonKey(t);let C=this.a.get(f);if(!C){C=new X;const ee=this.f++,ne=I.Event.once(C.onDrained)(()=>{C?.dispose(),this.a.delete(f),this.h(),this.d?.deleteAndDispose(ee),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new w.$4c),this.d.set(ee,ne),this.a.set(f,C)}return C.queue(i)}h(){this.g()&&this.j()}j(){for(const t of this.b)t.complete();this.b.clear()}dispose(){for(const[,t]of this.a)t.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$rh=le;class ie{constructor(t,i){this.a=-1,typeof t=="function"&&typeof i=="number"&&this.setIfNotSet(t,i)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(t,i){this.cancel(),this.a=setTimeout(()=>{this.a=-1,t()},i)}setIfNotSet(t,i){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,t()},i))}}e.$sh=ie;class he{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(t,i,l=globalThis){this.cancel();const f=l.setInterval(()=>{t()},i);this.d=(0,w.$Sc)(()=>{l.clearInterval(f),this.d=void 0})}dispose(){this.cancel()}}e.$th=he;class z{constructor(t,i){this.b=-1,this.a=t,this.d=i,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(t=this.d){this.cancel(),this.b=setTimeout(this.f,t)}get delay(){return this.d}set delay(t){this.d=t}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$uh=z;class te{constructor(t,i){i%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${i}ms is not a multiple of 1000ms.`),this.a=t,this.b=i,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(t=this.b){t%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${t}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(t/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$vh=te;class Y extends z{constructor(t,i){super(t,i),this.j=[]}work(t){this.j.push(t),this.isScheduled()||this.schedule()}h(){const t=this.j;this.j=[],this.a?.(t)}dispose(){this.j=[],super.dispose()}}e.$wh=Y;class ce extends w.$Uc{constructor(t,i){super(),this.g=t,this.h=i,this.a=[],this.b=this.B(new w.$Vc),this.f=!1}get pending(){return this.a.length}work(t){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+t.length>this.g.maxBufferedWork)return!1}else if(this.pending+t.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const i of t)this.a.push(i);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new z(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$xh=ce,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$zh=(c,t)=>{(0,y.$B)(()=>{if(i)return;const l=Date.now()+15;t(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,l-Date.now())}}))});let i=!1;return{dispose(){i||(i=!0)}}}:e.$zh=(c,t,i)=>{const l=c.requestIdleCallback(t,typeof i=="number"?{timeout:i}:void 0);let f=!1;return{dispose(){f||(f=!0,c.cancelIdleCallback(l))}}},e.$yh=c=>(0,e.$zh)(globalThis,c)}();class u{constructor(t,i){this.g=!1,this.d=()=>{try{this.j=i()}catch(l){this.l=l}finally{this.g=!0}},this.f=(0,e.$zh)(t,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Ah=u;class d extends u{constructor(t){super(globalThis,t)}}e.$Bh=d;async function o(c,t,i){let l;for(let f=0;f<i;f++)try{return await c()}catch(C){l=C,await s(t)}throw l}class v{isRunning(t){return typeof t=="number"?this.a?.taskId===t:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(t,i,l){return this.a={taskId:t,cancel:()=>l?.(),promise:i},i.then(()=>this.d(t),()=>this.d(t)),i}d(t){this.a&&t===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const t=this.b;this.b=void 0,t.run().then(t.promiseResolve,t.promiseReject)}}queue(t){if(this.b)this.b.run=t;else{const{promise:i,resolve:l,reject:f}=L();this.b={run:t,promise:i,promiseResolve:l,promiseReject:f}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$Dh=v;class P{constructor(t,i=()=>Date.now()){this.d=t,this.f=i,this.a=0,this.b=0}increment(){const t=this.f();return t-this.a>this.d&&(this.a=t,this.b=0),this.b++,this.b}}e.$Eh=P;var k;(function(c){c[c.Resolved=0]="Resolved",c[c.Rejected=1]="Rejected"})(k||(k={}));class N{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((t,i)=>{this.a=t,this.b=i})}complete(t){return new Promise(i=>{this.a(t),this.d={outcome:0,value:t},i()})}error(t){return new Promise(i=>{this.b(t),this.d={outcome:1,value:t},i()})}cancel(){return this.error(new A.$5)}}e.$Fh=N;var g;(function(c){async function t(l){let f;const C=await Promise.all(l.map(ee=>ee.then(ne=>ne,ne=>{f||(f=ne)})));if(typeof f<"u")throw f;return C}c.settled=t;function i(l){return new Promise(async(f,C)=>{try{await l(f,C)}catch(ee){C(ee)}})}c.withAsyncBody=i})(g||(e.Promises=g={}));class R{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(t){this.a=void 0,this.b=void 0,this.d=!1,this.promise=t.then(i=>(this.a=i,this.d=!0,i),i=>{throw this.b=i,this.d=!0,i})}requireValue(){if(!this.d)throw new A.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$Gh=R;class K{constructor(t){this.b=t,this.a=new V.$V(()=>new R(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$Hh=K;var q;(function(c){c[c.Initial=0]="Initial",c[c.DoneOK=1]="DoneOK",c[c.DoneError=2]="DoneError"})(q||(q={}));class O{static fromArray(t){return new O(i=>{i.emitMany(t)})}static fromPromise(t){return new O(async i=>{i.emitMany(await t)})}static fromPromises(t){return new O(async i=>{await Promise.all(t.map(async l=>i.emitOne(await l)))})}static merge(t){return new O(async i=>{await Promise.all(t.map(async l=>{for await(const f of l)i.emitOne(f)}))})}static{this.EMPTY=O.fromArray([])}constructor(t){this.a=0,this.b=[],this.d=null,this.f=new I.$7d,queueMicrotask(async()=>{const i={emitOne:l=>this.g(l),emitMany:l=>this.h(l),reject:l=>this.k(l)};try{await Promise.resolve(t(i)),this.j()}catch(l){this.k(l)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(t<this.b.length)return{done:!1,value:this.b[t++]};if(this.a===1)return{done:!0,value:void 0};await I.Event.toPromise(this.f.event)}while(!0)}}}static map(t,i){return new O(async l=>{for await(const f of t)l.emitOne(i(f))})}map(t){return O.map(this,t)}static filter(t,i){return new O(async l=>{for await(const f of t)i(f)&&l.emitOne(f)})}filter(t){return O.filter(this,t)}static coalesce(t){return O.filter(t,i=>!!i)}coalesce(){return O.coalesce(this)}static async toPromise(t){const i=[];for await(const l of t)i.push(l);return i}toPromise(){return O.toPromise(this)}g(t){this.a===0&&(this.b.push(t),this.f.fire())}h(t){this.a===0&&(this.b=this.b.concat(t),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(t){this.a===0&&(this.a=2,this.d=t,this.f.fire())}}e.$Ih=O;class x extends O{constructor(t,i){super(i),this.l=t}cancel(){this.l.cancel()}}e.$Jh=x;function se(c){const t=new j.$ee,i=c(t.token);return new x(t,async l=>{const f=t.token.onCancellationRequested(()=>{f.dispose(),t.dispose(),l.reject(new A.$5)});try{for await(const C of i){if(t.token.isCancellationRequested)return;l.emitOne(C)}f.dispose(),t.dispose()}catch(C){f.dispose(),t.dispose(),l.reject(C)}})}class fe{constructor(){this.a=new N,this.b=new O(l=>{if(t){l.reject(t);return}return i&&l.emitMany(i),this.d=f=>l.reject(f),this.f=f=>l.emitOne(f),this.a.p});let t,i;this.f=l=>{i||(i=[]),i.push(l)},this.d=l=>{t||(t=l)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(t){this.d(t),this.a.complete()}emitOne(t){this.f(t)}}e.$Lh=fe}),define(ue[9],ae([0,1,20,8,5,21,2,3,4]),function(re,e,j,A,I,w,m,y,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_j=e.$$j=void 0,e.$0j=V,e.$ak=n,e.$bk=X,e.$ck=oe,e.$dk=le,e.$ek=ie,e.$fk=he,e.$gk=ce;function V(){return Object.create(null)}e.$$j="**",e.$_j="/";const H="[/\\\\]",Z="[^/\\\\]",J=/\//g;function S(u,d){switch(u){case 0:return"";case 1:return`${Z}*?`;default:return`(?:${H}|${Z}+${H}${d?`|${H}${Z}+`:""})*?`}}function n(u,d){if(!u)return[];const o=[];let v=!1,P=!1,k="";for(const N of u){switch(N){case d:if(!v&&!P){o.push(k),k="";continue}break;case"{":v=!0;break;case"}":v=!1;break;case"[":P=!0;break;case"]":P=!1;break}k+=N}return k&&o.push(k),o}function r(u){if(!u)return"";let d="";const o=n(u,e.$_j);if(o.every(v=>v===e.$$j))d=".*";else{let v=!1;o.forEach((P,k)=>{if(P===e.$$j){if(v)return;d+=S(2,k===o.length-1)}else{let N=!1,g="",R=!1,K="";for(const q of P){if(q!=="}"&&N){g+=q;continue}if(R&&(q!=="]"||!K)){let O;q==="-"?O=q:(q==="^"||q==="!")&&!K?O="^":q===e.$_j?O="":O=(0,B.$Ze)(q),K+=O;continue}switch(q){case"{":N=!0;continue;case"[":R=!0;continue;case"}":{const x=`(?:${n(g,",").map(se=>r(se)).join("|")})`;d+=x,N=!1,g="";break}case"]":{d+="["+K+"]",R=!1,K="";break}case"?":d+=Z;continue;case"*":d+=S(1);continue;default:d+=(0,B.$Ze)(q)}}k<o.length-1&&(o[k+1]!==e.$$j||k+2<o.length)&&(d+=H)}v=P===e.$$j})}return d}const a=/^\*\*\/\*\.[\w\.-]+$/,L=/^\*\*\/([\w\.-]+)\/?$/,U=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,$=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,M=/^\*\*((\/[\w\.-]+)+)\/?$/,p=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,b=new w.$Ec(1e4),F=function(){return!1},T=function(){return null};function G(u,d){if(!u)return T;let o;typeof u!="string"?o=u.pattern:o=u,o=o.trim();const v=`${o}_${!!d.trimForExclusions}`;let P=b.get(v);if(P)return _(P,u);let k;return a.test(o)?P=h(o.substr(4),o):(k=L.exec(s(o,d)))?P=E(k[1],o):(d.trimForExclusions?$:U).test(o)?P=D(o,d):(k=M.exec(s(o,d)))?P=Q(k[1].substr(1),o,!0):(k=p.exec(s(o,d)))?P=Q(k[1],o,!1):P=W(o),b.set(v,P),_(P,u)}function _(u,d){if(typeof d=="string")return u;const o=function(v,P){return(0,I.$ig)(v,d.base,!y.$k)?u((0,B.$5e)(v.substr(d.base.length),m.sep),P):null};return o.allBasenames=u.allBasenames,o.allPaths=u.allPaths,o.basenames=u.basenames,o.patterns=u.patterns,o}function s(u,d){return d.trimForExclusions&&u.endsWith("/**")?u.substr(0,u.length-2):u}function h(u,d){return function(o,v){return typeof o=="string"&&o.endsWith(u)?d:null}}function E(u,d){const o=`/${u}`,v=`\\${u}`,P=function(N,g){return typeof N!="string"?null:g?g===u?d:null:N===u||N.endsWith(o)||N.endsWith(v)?d:null},k=[u];return P.basenames=k,P.patterns=[d],P.allBasenames=k,P}function D(u,d){const o=Y(u.slice(1,-1).split(",").map(g=>G(g,d)).filter(g=>g!==T),u),v=o.length;if(!v)return T;if(v===1)return o[0];const P=function(g,R){for(let K=0,q=o.length;K<q;K++)if(o[K](g,R))return u;return null},k=o.find(g=>!!g.allBasenames);k&&(P.allBasenames=k.allBasenames);const N=o.reduce((g,R)=>R.allPaths?g.concat(R.allPaths):g,[]);return N.length&&(P.allPaths=N),P}function Q(u,d,o){const v=m.sep===m.$hc.sep,P=v?u:u.replace(J,m.sep),k=m.sep+P,N=m.$hc.sep+u;let g;return o?g=function(R,K){return typeof R=="string"&&(R===P||R.endsWith(k)||!v&&(R===u||R.endsWith(N)))?d:null}:g=function(R,K){return typeof R=="string"&&(R===P||!v&&R===u)?d:null},g.allPaths=[(o?"*/":"./")+u],g}function W(u){try{const d=new RegExp(`^${r(u)}$`);return function(o){return d.lastIndex=0,typeof o=="string"&&d.test(o)?u:null}}catch{return T}}function X(u,d,o){return!u||typeof d!="string"?!1:oe(u)(d,void 0,o)}function oe(u,d={}){if(!u)return F;if(typeof u=="string"||le(u)){const o=G(u,d);if(o===T)return F;const v=function(P,k){return!!o(P,k)};return o.allBasenames&&(v.allBasenames=o.allBasenames),o.allPaths&&(v.allPaths=o.allPaths),v}return z(u,d)}function le(u){const d=u;return d?typeof d.base=="string"&&typeof d.pattern=="string":!1}function ie(u){return u.allBasenames||[]}function he(u){return u.allPaths||[]}function z(u,d){const o=Y(Object.getOwnPropertyNames(u).map(g=>te(g,u[g],d)).filter(g=>g!==T)),v=o.length;if(!v)return T;if(!o.some(g=>!!g.requiresSiblings)){if(v===1)return o[0];const g=function(q,O){let x;for(let se=0,fe=o.length;se<fe;se++){const c=o[se](q,O);if(typeof c=="string")return c;(0,A.$7g)(c)&&(x||(x=[]),x.push(c))}return x?(async()=>{for(const se of x){const fe=await se;if(typeof fe=="string")return fe}return null})():null},R=o.find(q=>!!q.allBasenames);R&&(g.allBasenames=R.allBasenames);const K=o.reduce((q,O)=>O.allPaths?q.concat(O.allPaths):q,[]);return K.length&&(g.allPaths=K),g}const P=function(g,R,K){let q,O;for(let x=0,se=o.length;x<se;x++){const fe=o[x];fe.requiresSiblings&&K&&(R||(R=(0,m.$oc)(g)),q||(q=R.substr(0,R.length-(0,m.$pc)(g).length)));const c=fe(g,R,q,K);if(typeof c=="string")return c;(0,A.$7g)(c)&&(O||(O=[]),O.push(c))}return O?(async()=>{for(const x of O){const se=await x;if(typeof se=="string")return se}return null})():null},k=o.find(g=>!!g.allBasenames);k&&(P.allBasenames=k.allBasenames);const N=o.reduce((g,R)=>R.allPaths?g.concat(R.allPaths):g,[]);return N.length&&(P.allPaths=N),P}function te(u,d,o){if(d===!1)return T;const v=G(u,o);if(v===T)return T;if(typeof d=="boolean")return v;if(d){const P=d.when;if(typeof P=="string"){const k=(N,g,R,K)=>{if(!K||!v(N,g))return null;const q=P.replace("$(basename)",()=>R),O=K(q);return(0,A.$7g)(O)?O.then(x=>x?u:null):O?u:null};return k.requiresSiblings=!0,k}}return v}function Y(u,d){const o=u.filter(g=>!!g.basenames);if(o.length<2)return u;const v=o.reduce((g,R)=>{const K=R.basenames;return K?g.concat(K):g},[]);let P;if(d){P=[];for(let g=0,R=v.length;g<R;g++)P.push(d)}else P=o.reduce((g,R)=>{const K=R.patterns;return K?g.concat(K):g},[]);const k=function(g,R){if(typeof g!="string")return null;if(!R){let q;for(q=g.length;q>0;q--){const O=g.charCodeAt(q-1);if(O===47||O===92)break}R=g.substr(q)}const K=v.indexOf(R);return K!==-1?P[K]:null};k.basenames=v,k.patterns=P,k.allBasenames=v;const N=u.filter(g=>!g.basenames);return N.push(k),N}function ce(u,d){return(0,j.$ub)(u,d,(o,v)=>typeof o=="string"&&typeof v=="string"?o===v:typeof o!="string"&&typeof v!="string"?o.base===v.base&&o.pattern===v.pattern:!1)}}),define(ue[14],ae([0,1,22]),function(re,e,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ooc=void 0;const A=(I,w,m)=>{let y;if(I[0]===255&&I[1]===254)y=new TextDecoder("utf-16le").decode(I);else if(I[0]===254&&I[1]===255)y=new TextDecoder("utf-16be").decode(I);else if(y=new TextDecoder("utf8").decode(I),y.slice(0,1e3).includes("\uFFFD")&&I.includes(0))return[];const B=[],V=[];let H=null,Z=m.remainingResultQuota;for(;Z>=0&&(H=w.exec(y));)V.push({matchStartIndex:H.index,matchedText:H[0]}),Z--;if(V.length){const J=new Set,S=new Set,n=[],r=M=>y.slice(n[M].start,n[M].end);let a=0,L=null;const U=/\r?\n/g;for(;L=U.exec(y);)n.push({start:a,end:L.index}),a=L.index+L[0].length;a<y.length&&n.push({start:a,end:y.length});let $=0;for(const{matchStartIndex:M,matchedText:p}of V){if(Z<0)break;for(;n[$+1]&&M>n[$].end;)$++;let b=$;for(;n[b+1]&&M+p.length>n[b].end;)b++;if(m.beforeContext)for(let h=Math.max(0,$-m.beforeContext);h<$;h++)J.add(h);let F="",T=0;for(let h=$;h<=b;h++){let E=r(h);m.previewOptions?.charsPerLine&&E.length>m.previewOptions.charsPerLine&&(T=Math.max(M-n[$].start-20,0),E=E.substr(T,m.previewOptions.charsPerLine)),F+=`${E}
`,S.add(h)}const G=new j.$ct($,M-n[$].start,b,M+p.length-n[b].start),_=new j.$ct(0,M-n[$].start-T,b-$,M+p.length-n[b].start-(b===$?T:0)),s={ranges:G,preview:{text:F,matches:_}};if(B.push(s),m.afterContext)for(let h=b+1;h<=Math.min(b+m.afterContext,n.length-1);h++)J.add(h)}for(const M of J)S.has(M)||B.push({text:r(M),lineNumber:M+1})}return B};e.$Ooc=A}),define(ue[15],ae([0,1,9]),function(re,e,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0lb=void 0;class A{constructor(w,m,y){if(this.b=m,this.c=y,m[m.length-1]==="\\")throw Error("Unexpected path format, do not use trailing backslashes");m[m.length-1]!=="/"&&(m+="/"),this.a=this.e(w,this.b,this.c)}updateContents(w){this.a=this.e(w,this.b,this.c)}isPathIncludedInTraversal(w,m){if(w[0]!=="/"||w[w.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+w);return!this.a(w,m)}isArbitraryPathIgnored(w,m){if(w[0]!=="/"||w[w.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+w);const y=w.split("/").filter(H=>H);let B=!1,V="";for(let H=0;H<y.length;H++){const Z=H===y.length-1,J=y[H];if(V=V+"/"+J,!this.isPathIncludedInTraversal(V,Z?m:!0)){B=!0;break}}return B}d(w,m,y){const B=w.map(H=>this.f(H,m)),V=Object.create(null);for(const H of B)V[H]=!0;return j.$ck(V,{trimForExclusions:y})}e(w,m,y){const B=w.split(`
`).map($=>$.trim()).filter($=>$&&$[0]!=="#"),V=B.filter($=>!$.endsWith("/")),H=V.filter($=>!$.includes("!")),Z=this.d(H,m,!0),J=V.filter($=>$.includes("!")).map($=>$.replace(/!/g,"")),S=this.d(J,m,!1),n=B.filter($=>!$.includes("!")),r=this.d(n,m,!0),a=B.filter($=>$.includes("!")).map($=>$.replace(/!/g,"")),L=this.d(a,m,!1);return($,M)=>$.startsWith(m)?M&&r($)&&!L($)||Z($)&&!S($)?!0:y?y.a($,M):!1:!1}f(w,m){const y=w.indexOf("/");return y===-1||y===w.length-1?w="**/"+w:(y===0?m.slice(-1)==="/"&&(w=w.slice(1)):m.slice(-1)!=="/"&&(w="/"+w),w=m+w),w}}e.$0lb=A}),define(ue[23],ae([0,1,9,6,2,13,14,15,4,8,7]),function(re,e,j,A,I,w,m,y,B,V,H){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalFileSearchSimpleWorker=void 0,e.create=r;const Z=!1,J=+new Date,S={},n=async(b,F)=>{if(!Z)return F();const T=Date.now(),G=(S[b]??0)+1;console.info(b,G,"starting",Math.round((T-J)*10)/1e4),S[b]=G;const _=await F(),s=Date.now();return console.info(b,G,"took",s-T),_};function r(b){return new a(b)}class a{constructor(F){this.d=F,this.cancellationTokens=new Map}cancelQuery(F){this.cancellationTokens.get(F)?.cancel()}g(F){const T=new w.$ee;return this.cancellationTokens.set(F,T),T}async listDirectory(F,T,G,_,s){const h=U(G),E=new H.$Kg(()=>_),D=this.g(s),Q=[];let W=!1,X=0;const oe=T.maxResults||512,le=T.filePattern?ie=>T.filePattern.split("").every(he=>ie.includes(he)):ie=>!0;return await n("listDirectory",()=>this.h(F,$(T),h,E,ie=>{if(le(ie.name))return X++,oe&&X>oe&&(W=!0,D.cancel()),Q.push(ie.path)},D.token)),{results:Q,limitHit:W}}async searchDirectory(F,T,G,_,s){const h=U(G),E=new H.$Kg(()=>_);return n("searchInFiles",async()=>{const D=this.g(s),Q=[],W=L(T.contentPattern),X=[];let oe=0,le=0;const ie=!1,he=async z=>{if(D.token.isCancellationRequested)return;oe++;const te=await z.resolve();if(D.token.isCancellationRequested)return;const Y=new Uint8Array(te),ce=(0,m.$Ooc)(Y,W,{afterContext:T.afterContext??0,beforeContext:T.beforeContext??0,previewOptions:T.previewOptions,remainingResultQuota:T.maxResults?T.maxResults-le:1e4});if(ce.length){le+=ce.length,T.maxResults&&le>T.maxResults&&D.cancel();const u={resource:A.URI.joinPath(h.folder,z.path),results:ce};this.d.sendTextSearchMatch(u,s),Q.push(u)}};return await n("walkFolderToResolve",()=>this.h(F,$(T),h,E,async z=>X.push(he(z)),D.token)),await n("resolveOngoingProcesses",()=>Promise.all(X)),Z&&console.log("Searched in",oe,"files"),{results:Q,limitHit:ie}})}async h(F,T,G,_,s,h){const E=j.$ck(G.excludePattern??{},{trimForExclusions:!0}),D=(z,te,Y)=>(z=z.slice(1),!!(E(z,te,Y)||M(T,z))),Q=(z,te,Y)=>(z=z.slice(1),!(E(z,te,Y)||!p(T,z,_))),W=(z,te)=>({type:"file",name:z.name,path:te,resolve:()=>z.getFile().then(ce=>ce.arrayBuffer())}),X=z=>z.kind==="directory",oe=z=>z.kind==="file",le=async(z,te,Y)=>{if(!G.disregardIgnoreFiles){const u=await Promise.all([z.getFileHandle(".gitignore").catch(d=>{}),z.getFileHandle(".ignore").catch(d=>{})]);await Promise.all(u.map(async d=>{if(!d)return;const o=new TextDecoder("utf8").decode(new Uint8Array(await(await d.getFile()).arrayBuffer()));Y=new y.$0lb(o,te,Y)}))}const ce=V.Promises.withAsyncBody(async u=>{const d=[],o=[],v=[],P=new Set;for await(const k of z.entries())v.push(k),P.add(k[0]);for(const[k,N]of v){if(h.isCancellationRequested)break;const g=te+k;if(Y&&!Y.isPathIncludedInTraversal(g,N.kind==="directory"))continue;const R=K=>P.has(K);X(N)&&!D(g,k,R)?o.push(le(N,g+"/",Y)):oe(N)&&Q(g,k,R)&&d.push(W(N,g))}u([...await Promise.all(o),...d])});return{type:"dir",name:z.name,entries:ce}},ie=async(z,te)=>{h.isCancellationRequested||await Promise.all((await z.entries).sort((Y,ce)=>-(Y.type==="dir"?0:1)+(ce.type==="dir"?0:1)).map(async Y=>Y.type==="dir"?ie(Y,te):te(Y)))},he=await n("process",()=>le(F,"/"));await n("resolve",()=>ie(he,s))}}e.LocalFileSearchSimpleWorker=a;function L(b){return(0,B.$9e)(b.pattern,!!b.isRegExp,{wholeWord:b.isWordMatch,global:!0,matchCase:b.isCaseSensitive,multiline:!0,unicode:!0})}function U(b){return{...b,folder:A.URI.revive(b.folder)}}function $(b){return{...b,extraFileResources:b.extraFileResources?.map(F=>A.URI.revive(F)),folderQueries:b.folderQueries.map(F=>U(F))}}function M(b,F){return!!(b.excludePattern&&j.$bk(b.excludePattern,F))}function p(b,F,T){return b.excludePattern&&j.$bk(b.excludePattern,F)?!1:b.includePattern||b.usingSearchPaths?b.includePattern&&j.$bk(b.includePattern,F)?!0:b.usingSearchPaths?!!b.folderQueries&&b.folderQueries.some(G=>{const _=G.folder,s=A.URI.file(F);if(T.isEqualOrParent(s,_)){const h=I.$mc(_.path,s.path);return!G.includePattern||!!j.$bk(G.includePattern,h)}else return!1}):!1:!0}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/e170252f762678dec6ca2cc69aba1570769a5d39/core/vs/workbench/services/search/worker/localFileSearch.js.map
